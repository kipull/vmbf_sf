import base64
exec(base64.b64decode("DQojIyMtLS0tLS0tLS0tWyBJTVBPUlQgTU9EVUxFIEFORCBJTkdSRURJRU5UIF0tLS0tLS0tLS0tICMjIw0KaW1wb3J0IHJlcXVlc3RzLGpzb24sb3Msc3lzLHJhbmRvbSx0aW1lLHJlLHV1aWQsemxpYixzdWJwcm9jZXNzLGJhc2U2NA0KZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvciBhcyB0cmVkDQpmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cCBhcyBwYXJzZXINCmZyb20gdGltZSBpbXBvcnQgdGltZSBhcyB0b2QNCmZyb20gcmVxdWVzdHMuZXhjZXB0aW9ucyBpbXBvcnQgQ29ubmVjdGlvbkVycm9yDQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQ0KZnJvbSBvcyBpbXBvcnQgc3lzdGVtIGFzIHNpcw0KZnJvbSB0aW1lIGltcG9ydCB0aW1lIGFzIHRpbQ0Kc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpDQoNCiMjIy0tLS0tLS0tLS1bIElNUE9SVCBSSUNIIEFORCBJTkdSRURJRU5UIF0tLS0tLS0tLS0tICMjIw0KZnJvbSByaWNoLnBhbmVsIGltcG9ydCBQYW5lbA0KZnJvbSByaWNoLnRyZWUgaW1wb3J0IFRyZWUNCmZyb20gcmljaCBpbXBvcnQgcHJpbnQgYXMgcHJpbnRzDQpmcm9tIHJpY2ggaW1wb3J0IHByaW50IGFzIHByaW50DQpmcm9tIHJpY2guY29uc29sZSBpbXBvcnQgQ29uc29sZQ0KZnJvbSByaWNoLnRhYmxlIGltcG9ydCBUYWJsZQ0KZnJvbSByaWNoLmNvbHVtbnMgaW1wb3J0IENvbHVtbnMNCmZyb20gcmljaC5wcm9ncmVzcyBpbXBvcnQgUHJvZ3Jlc3MsU3Bpbm5lckNvbHVtbixCYXJDb2x1bW4sVGV4dENvbHVtbixUaW1lRWxhcHNlZENvbHVtbg0KY29uc29sZSA9IENvbnNvbGUoKQ0KDQojIyMtLS0tLS0tLS0tWyBXQVJOQSBQUklOVCBCSUFTQSBdLS0tLS0tLS0tLSAjIyMNClAgPSAnXHgxYlsxOzk3bScgIyBQVVRJSA0KTSA9ICdceDFiWzE7OTFtJyAjIE1FUkFIDQpIID0gJ1x4MWJbMTs5Mm0nICMgSElKQVUNCksgPSAnXHgxYlsxOzkzbScgIyBLVU5JTkcNCkIgPSAnXHgxYlsxOzk0bScgIyBCSVJVDQpVID0gJ1x4MWJbMTs5NW0nICMgVU5HVQ0KTyA9ICdceDFiWzE7OTZtJyAjIEJJUlUgTVVEQQ0KTiA9ICdceDFiWzBtJwkjIFdBUk5BIE1BVEkNCg0KIyMjLS0tLS0tLS0tLVsgV0FSTkEgUFJJTlQgUklDSCBdLS0tLS0tLS0tLSAjIyMNCloyID0gIlsjMDAwMDAwXSIgIyBISVRBTQ0KTTIgPSAiWyNGRjAwMDBdIiAjIE1FUkFIDQpIMiA9ICJbIzAwRkYwMF0iICMgSElKQVUNCksyID0gIlsjRkZGRjAwXSIgIyBLVU5JTkcNCkIyID0gIlsjMDBDOEZGXSIgIyBCSVJVDQpVMiA9ICJbI0FGMDBGRl0iICMgVU5HVQ0KTjIgPSAiWyNGRjAwRkZdIiAjIFBJTksNCk8yID0gIlsjMDBGRkZGXSIgIyBCSVJVIE1VREENClAyID0gIlsjRkZGRkZGXSIgIyBQVVRJSA0KSjIgPSAiWyNGRjhGMDBdIiAjIEpJTkdHQQ0KQTIgPSAiWyNBQUFBQUFdIiAjIEFCVS1BQlUNClJXID0gc3RyKHJhbmRvbS5jaG9pY2UoW00yLCBIMiwgSzIsIEIyLCBVMiwgTjIsIE8yLCBKMiwgQTJdKSkNCiMjIy0tLS0tLS0tLS1bIEdMT0JBTCBOQU1BIF0tLS0tLS0tLS0tICMjIw0KcmVzZXQgPSAiWy9dIg0KbG9vcCA9IDANCm9rID0gMA0KY3AgPSAwDQppZCA9IFtdDQppZDIgPSBbXQ0KYWt1biA9IFtdDQpvcHJlayA9IFtdDQptZXRob2QgPSBbXQ0KdGFwbGlrYXNpID0gW10NCnRva2Vua3UgPSBbXQ0KdWlkID0gW10NCnVhX2lvcyA9IFtdDQpjb2ticnV0ID0gW10NCnVnZW49W10NCnVnZW4yPVtdDQpkdW1wID0gW10NCnVhZGlhLCB1YWRhcmltdSA9IFtdLCBbXQ0KdWdlbnQ9IFtdDQpwd2xpc3QsIHB3bGlzID0gW10sIFtdDQpwd3BsdXNzLCBwd255YSA9IFtdLCBbXQ0KdWdlbnQgPSBbXQ0KdWFzbSwgdWFNYWluWEQsIHByb3ggPSBbXSwgW10sIFtdDQpzeXMuc3Rkb3V0LndyaXRlKCdceDFiXTI7IFZNQkYgfCBWSU5JWCBNdWx0aSBCcnV0ZSBGYWNlYm9va1x4MDcnKQ0KZmJrcz0oJ2NvbS5mYWNlYm9vay5hZHNtYW5hZ2VyJywnY29tLmZhY2Vib29rLmxpdGUnLCdjb20uZmFjZWJvb2sub3JjYScsJ2NvbS5mYWNlYm9vay5rYXRhbmEnLCdjb20uZmFjZWJvb2subWxpdGUnKQ0KSUQ9IjU1OTY0NjY5MjgiOw0KdG9rPSI1ODQ0OTkwMTMyOkFBSDM5WUszWUlzZmppeE1YQW1wM2szeE5tdllpc2VNMDU4Ig0KDQoNCg0KZGVmIFVzZXJBZ2VudEJhc2UoKToNCiAgICAgICAgcnIgPSByYW5kb20ucmFuZGludA0KICAgICAgICB1YXQgPSAoZiJEYXZpay8yLjEuMCAoTGludXg7IFU7IEFuZHJvaWQge3N0cihycigyLDEzKSl9OyBSTVgyMTg5IEJ1aWxkL1FQMUEuMTkwNzExLjAyMCkgW0ZCQU4vTWVzc2VuZ2VyTGl0ZTtGQkFWL3tzdHIocnIoNDAsMzY3KSl9MzA2LjAuMC44LjgzO0ZCUE4vY29tLmZhY2Vib29rLm1saXRlO0ZCTEMvZW5fR0I7RkJCVi82OTYyOTUxMDA7RkJDUi9YTCBBeGlhdGE7RkJNRi9yZWFsbWU7RkJCRC9yZWFsbWU7RkJEVi9STVgyMTg5O0ZCU1Yve3N0cihycigyLDEzKSl9O0ZCQ0EvYXJtNjQtdjhhOmFybWVhYmktdjdhOmFybWVhYmk7RkJETS8iKyJ7ZGVuc2l0eT0yLjI1LGhlaWdodD0sd2lkdGg9fTtdIikgICAgICAgIA0KICAgICAgICB1YXMgPSAoZiJEYXZpay8yLjEuMCAoTGludXg7IFU7IEFuZHJvaWQge3N0cihycigzLDE0KSl9OyBJbmZpbml4IFg2NTdCIEJ1aWxkL1JQMUEuMjAwNzIwLjAxMSkgW0ZCQU4vT3JjYS1BbmRyb2lkO0ZCQVYve3N0cihycig1MCw2NTQpKX0zMjQuMC4wLjMuMTM1O0ZCUE4vY29tLmZhY2Vib29rLm9yY2E7RkJMQy9lbl9HQjtGQkJWLzY0NDk0OTg2MTtGQkNSL0FYSVM7RkJNRi9JTkZJTklYIE1PQklMSVRZIExJTUlURUQ7RkJCRC9JbmZpbml4O0ZCRFYvSW5maW5peCBYNjU3QjtGQlNWL3tzdHIocnIoMywxNCkpfTtGQkNBL2FybWVhYmktdjdhOmFybWVhYmk7RkJETS8iKyJ7ZGVuc2l0eT0yLjI1LGhlaWdodD0sd2lkdGg9fTtdIikNCiAgICAgICAgdWFmID0gKGYiRGFsdmlrLzIuMS4wIChMaW51eDsgVTsgQW5kcm9pZCB7c3RyKHJyKDgsMTMpKX0ue3N0cihycigxLDIpKX0uMDsgUmVkbWkgUzIgQnVpbGQvT1BNMS4xNzEwMTkuMDExKSBbRkJBTi9NZXNzZW5nZXJMaXRlO0ZCQVYve3N0cihycigyMCw0NjApKX0uMzI1LjAuMC4zLjEwNztGQlBOL2NvbS5mYWNlYm9vay5tbGl0ZTtGQkxDL2VuX0dCO0ZCQlYvODAzNDIzODQ4O0ZCQ1IvO0ZCTUYvWGlhb21pO0ZCQkQveGlhb21pO0ZCRFYvUmVkbWkgUzI7RkJTVi97c3RyKHJyKDgsMTMpKX0ue3N0cihycigxLDIpKX0uMDtGQkNBL2FybWVhYmktdjdhOmFybWVhYmk7RkJETS8iKyJ7ZGVuc2l0eT0yLjI1LGhlaWdodD03NjAsd2lkdGg9MjA0MH07XSIpDQogICAgICAgIHVhZyA9IChmIkRhdmlrLzIuMS4wIChMaW51eDsgVTsgQW5kcm9pZCB7c3RyKHJyKDIsMTIpKX07IHZpdm8gMTkxOCBCdWlsZC9SUDFBLjIwMDcyMC4wMTIpIFtGQkFOL0VNQTtGQkFWL3tzdHIocnIoMjAsNTY2KSl9MzIzLjAuMC44LjEyMDtGQlBOL2NvbS5mYWNlYm9vay5saXRlO0ZCTEMvZW5fR0I7RkJCVi85MDkxNzAzODI7RkJDUi9Uc2VsLVBha2FpTWFza2VyO0ZCTUYvdml2bztGQkJEL3Zpdm87RkJEVi92aXZvIDE5MTg7RkJTVi8xMTtGQkNBL2FybTY0LXY4YTphcm1lYWJpLXY3YTphcm1lYWJpO0ZCRE0vIisie2RlbnNpdHk9Mi4yNSxoZWlnaHQ9NDA5Nix3aWR0aD0yMDQ4fTtdIikNCiAgICAgICAgcmV0dXJuIHJhbmRvbS5jaG9pY2UoW3VhcywgdWFmLHVhZyx1YXRdKQ0KICAgICAgICAJDQogICAgICAgIA0KZm9yIGFnZW5rdSBpbiByYW5nZSgxMDAwMCk6DQoJYT0nTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkJw0KCWI9cmFuZG9tLmNob2ljZShbJzguMS4wJywnOScsJzEwJywnMTEnLCcxMicsJzEzJ10pDQoJYz0nTEctSDY1MCBCdWlsZC9NUkE1OEs7IHd2KScNCglkPSdBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvJw0KCWU9cmFuZG9tLnJhbmRyYW5nZSg3MywxMDApDQoJZj0nMCcNCglnPXJhbmRvbS5yYW5kcmFuZ2UoNDIwMCw0OTAwKQ0KCWg9cmFuZG9tLnJhbmRyYW5nZSg0MCwxNTApDQoJaT0nTW9iaWxlIFNhZmFyaS81MzcuMzYgW0ZCX0lBQi9GQjRBO0ZCQVYvMzk2LjEuMC4yOC4xMDQ7XScNCgl1YWt1aD1mJ3thfSB7Yn07IHtjfSB7ZH17ZX0ue2Z9LntnfS57aH0ge2l9Jw0KCXVnZW4uYXBwZW5kKHVha3VoKQ0KCQ0KCWE9J01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCcNCgliPXJhbmRvbS5jaG9pY2UoWyc4LjEuMCcsJzknLCcxMCcsJzExJywnMTInLCcxMyddKQ0KCWM9J1NPLTA0RyknDQoJZD0nQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLycNCgllPXJhbmRvbS5yYW5kcmFuZ2UoNzMsMTAwKQ0KCWY9JzAnDQoJZz1yYW5kb20ucmFuZHJhbmdlKDQyMDAsNDkwMCkNCgloPXJhbmRvbS5yYW5kcmFuZ2UoNDAsMTUwKQ0KCWk9J01vYmlsZSBTYWZhcmkvNTM3LjM2W0ZCQU4vRU1BO0ZCTEMvZW5fVVM7RkJBVi8zMzguMC4wLjEwLjEwMjtdJw0KCXVha3VoPWYne2F9IHtifTsge2N9IHtkfXtlfS57Zn0ue2d9LntofSB7aX0nDQoJdWdlbi5hcHBlbmQodWFrdWgpIA0KCQ0KCWE9J01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCcNCgliPXJhbmRvbS5jaG9pY2UoWyc4LjEuMCcsJzknLCcxMCcsJzExJywnMTInLCcxMyddKQ0KCWM9J1hRLUNUNzIgQnVpbGQvNjQuMC5BLjguODI7IHd2KScNCglkPSdBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvJw0KCWU9cmFuZG9tLnJhbmRyYW5nZSg3MywxMDApDQoJZj0nMCcNCglnPXJhbmRvbS5yYW5kcmFuZ2UoNDIwMCw0OTAwKQ0KCWg9cmFuZG9tLnJhbmRyYW5nZSg0MCwxNTApDQoJaT0nTW9iaWxlIFNhZmFyaS81MzcuMzYgW0ZCX0lBQi9GQjRBO0ZCQVYvMzk2LjEuMC4yOC4xMDQ7XScNCgl1YWt1aD1mJ3thfSB7Yn07IHtjfSB7ZH17ZX0ue2Z9LntnfS57aH0ge2l9Jw0KCXVnZW4uYXBwZW5kKHVha3VoKSANCgkNCgkNCnRyeToNCglwcm94PSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vYXBpLnByb3h5c2NyYXBlLmNvbS92Mi8/cmVxdWVzdD1kaXNwbGF5cHJveGllcyZwcm90b2NvbD1zb2NrczUmdGltZW91dD0xMDAwMDAmY291bnRyeT1hbGwmc3NsPWFsbCZhbm9ueW1pdHk9YWxsJykudGV4dA0KCW9wZW4oJy5wcm94LnR4dCcsJ3cnKS53cml0ZShwcm94KQ0KZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KCXByaW50KCdbW1x4MWJbMTs5Mm3Dr8K/wr1ceDFiWzE7OTdtXSBbXHgxYlsxOzk2bUZhamFyX2dhbnouLi4nKQ0KcHJveD1vcGVuKCcucHJveC50eHQnLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQ0KDQoNCgkNCg0KdHJ5Og0KICAgIHdpdGggcmVxdWVzdHMuU2Vzc2lvbigpIGFzIHNlczoNCiAgICAgICAgX3VybCA9IHNlcy5nZXQoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9UaGVTcGVlZFgvU09DS1MtTGlzdC9tYXN0ZXIvc29ja3M1LnR4dCIpLnRleHQNCiAgICAgICAgZm9yIHhjIGluIF91cmwuc3BsaXRsaW5lcygpOg0KICAgICAgICAgICAgcHJveC5hcHBlbmQoeGMpDQpleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgcHJpbnQoZiIge0gyfeKAoiB7UDJ9IGtvbmVrc2kgaW50ZXJuZXQgYW5kYSBiZXJtYXNhbGFoIikNCiAgICB0aW1lLnNsZWVwKDAuMykNCiAgICBleGl0KCkNCg0KIyMjLS0tLS0tLS0tLVsgQ0hFQ0sgV0FSTkEgVEVNQSBdLS0tLS0tLS0tLSAjIyMNCnRyeToNCgljb2xvcl9yaWNoID0gb3BlbigiYXNzZXRzL2NvbG9yX3JpY2gudHh0IiwiciIpLnJlYWQoKQ0KZXhjZXB0IEZpbGVOb3RGb3VuZEVycm9yOg0KCWNvbG9yX3JpY2ggPSAiWyMwMEZGRkZdIg0KdHJ5Og0KCWNvbG9yX3RhYmxlID0gb3BlbigiYXNzZXRzL2NvbG9yX3RhYmxlLnR4dCIsInIiKS5yZWFkKCkNCmV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoNCgljb2xvcl90YWJsZSA9ICIjMDBGRkZGIg0KDQoNCg0KIyMjLS0tLS0tLS0tLVsgQ0VLIE5FR0FSQSBXQUpJQiBJTkRPIF0tLS0tLS0tLS0tICMjIw0KdHJ5Og0KCUlQID0gcmVxdWVzdHMuZ2V0KCJodHRwOi8vaXAtYXBpLmNvbS9qc29uLyIpLmpzb24oKVsicXVlcnkiXQ0KCW5lZ2FyYSA9IHJlcXVlc3RzLmdldCgiaHR0cDovL2lwLWFwaS5jb20vanNvbi8iKS5qc29uKClbImNvdW50cnkiXQ0KCWlmICJJbmRvbmVzaWEiIG5vdCBpbiBuZWdhcmE6DQoJICAgcHJpbnQoUGFuZWwoZiIiIntQMn10aGlzIHNjcmlwdCBvbmx5IHdvcmsgaW4gSW5kb25lc2lhLCBwbGVhc2Ugc2VhcmNoIGFub3RoZXIgc2NyaXB0IiIiLHdpZHRoPTgwLHBhZGRpbmc9KDAsNiksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJICAgdGltZS5zbGVlcCgzKTtleGl0KCkNCmV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCglwcmludChmIiB7SDJ94oCiIHtQMn0ga29uZWtzaSBpbnRlcm5ldCBhbmRhIGJlcm1hc2FsYWgiKQ0KCXRpbWUuc2xlZXAoMyk7ZXhpdCgpDQoNCiMjIy0tLS0tLS0tLS1bIENPTlZFUlQgQlVMQU4gXS0tLS0tLS0tLS0gIyMjDQpkYXk9ZGF0ZXRpbWUubm93KCkuc3RyZnRpbWUoIiVkLSViLSVZIikNCm55TW5EID0gNQ0KbnlNeEQgPSAxMA0KY3VycmVudF9HTVQgPSB0aW1lLmdtdGltZSh0aW1lLnRpbWUoKSkNCmJ1bGFuX3R0bCA9IHsiMDEiOiAiSmFudWFyaSIsICIwMiI6ICJGZWJydWFyaSIsICIwMyI6ICJNYXJldCIsICIwNCI6ICJBcHJpbCIsICIwNSI6ICJNZWkiLCAiMDYiOiAiSnVuaSIsICIwNyI6ICJKdWxpIiwgIjA4IjogIkFndXN0dXMiLCAiMDkiOiAiU2VwdGVtYmVyIiwgIjEwIjogIk9rdG9iZXIiLCAiMTEiOiAiTm92ZW1iZXIiLCAiMTIiOiAiRGVzZW1iZXIifQ0KYnVsYW4gPSBbIkphbnVhcmkiLCJGZWJydWFyaSIsIk1hcmV0IiwiQXByaWwiLCJNZWkiLCJKdW5pIiwiSnVsaSIsIkFndXN0dXMiLCJTZXB0ZW1iZXIiLCJPa3RvYmVyIiwiTm92ZW1iZXIiLCJEZXNlbWJlciJdDQptb250aCA9IGRhdGV0aW1lLm5vdygpLm1vbnRoIC0gMQ0KcmVhbGwgPSBidWxhblttb250aF0NCmRheXMgPSBkYXRldGltZS5ub3coKS5kYXkNCnllYXIgPSBkYXRldGltZS5ub3coKS55ZWFyDQpva2MgPSBmIk9LLXtkYXlzfS17cmVhbGx9LXt5ZWFyfS50eHQiDQpjcGMgPSBmIkNQLXtkYXlzfS17cmVhbGx9LXt5ZWFyfS50eHQiDQoNCiMjIy0tLS0tLS0tLS1bIERJTkkgSEFSSSBdLS0tLS0tLS0tLSAjIyMNCmRlZiBEZWZpbmlzaV9fV2FrdHUoKToNCiAgICAgICAgbm93ID0gZGF0ZXRpbWUubm93KCkNCiAgICAgICAgaG91cnMgPSBub3cuaG91cg0KICAgICAgICBpZiA0IDw9IGhvdXJzIDwgMTI6dGltZW5vdyA9ICJTZWxhbWF0IFBhZ2kiDQogICAgICAgIGVsaWYgMTIgPD0gaG91cnMgPCAxNTp0aW1lbm93ID0gIlNlbGFtYXQgU2lhbmciDQogICAgICAgIGVsaWYgMTUgPD0gaG91cnMgPCAxODp0aW1lbm93ID0gIlNlbGFtYXQgU29yZSINCiAgICAgICAgZWxzZTp0aW1lbm93ID0gIlNlbGFtYXQgTWFsYW0iDQogICAgICAgIHJldHVybiB0aW1lbm93DQoNCiMjIy0tLS0tLS0tLS1bIFRBSFVOIF0tLS0tLS0tLS0tICMjIw0KZGVmIHRhaHVuKGZ4KToNCglpZiBsZW4oZngpPT0xNToNCgkJaWYgZnhbOjEwXSBpbiBbJzEwMDAwMDAwMDAnXSAgICAgICA6dGFodW4gPSAnMjAwOScNCgkJZWxpZiBmeFs6OV0gaW4gWycxMDAwMDAwMDAnXSAgICAgICA6dGFodW4gPSAnMjAwOScNCgkJZWxpZiBmeFs6OF0gaW4gWycxMDAwMDAwMCddICAgICAgICA6dGFodW4gPSAnMjAwOScNCgkJZWxpZiBmeFs6N10gaW4gWycxMDAwMDAwJywnMTAwMDAwMScsJzEwMDAwMDInLCcxMDAwMDAzJywnMTAwMDAwNCcsJzEwMDAwMDUnXTp0YWh1biA9ICcyMDA5Jw0KCQllbGlmIGZ4Wzo3XSBpbiBbJzEwMDAwMDYnLCcxMDAwMDA3JywnMTAwMDAwOCcsJzEwMDAwMDknXTp0YWh1biA9ICcyMDEwJw0KCQllbGlmIGZ4Wzo2XSBpbiBbJzEwMDAwMSddICAgICAgICAgIDp0YWh1biA9ICcyMDEwLS0tPjIwMTEnDQoJCWVsaWYgZnhbOjZdIGluIFsnMTAwMDAyJywnMTAwMDAzJ10gOnRhaHVuID0gJzIwMTEtLS0+MjAxMicNCgkJZWxpZiBmeFs6Nl0gaW4gWycxMDAwMDQnXSAgICAgICAgICA6dGFodW4gPSAnMjAxMi0tLT4yMDEzJw0KCQllbGlmIGZ4Wzo2XSBpbiBbJzEwMDAwNScsJzEwMDAwNiddIDp0YWh1biA9ICcyMDEzLS0tPjIwMTQnDQoJCWVsaWYgZnhbOjZdIGluIFsnMTAwMDA3JywnMTAwMDA4J10gOnRhaHVuID0gJzIwMTQtLS0+MjAxNScNCgkJZWxpZiBmeFs6Nl0gaW4gWycxMDAwMDknXSAgICAgICAgICA6dGFodW4gPSAnMjAxNScNCgkJZWxpZiBmeFs6NV0gaW4gWycxMDAwMSddICAgICAgICAgICA6dGFodW4gPSAnMjAxNS0tLT4yMDE2Jw0KCQllbGlmIGZ4Wzo1XSBpbiBbJzEwMDAyJ10gICAgICAgICAgIDp0YWh1biA9ICcyMDE2LS0tPjIwMTcnDQoJCWVsaWYgZnhbOjVdIGluIFsnMTAwMDMnXSAgICAgICAgICAgOnRhaHVuID0gJzIwMTgnDQoJCWVsaWYgZnhbOjVdIGluIFsnMTAwMDQnXSAgICAgICAgICAgOnRhaHVuID0gJzIwMTknDQoJCWVsaWYgZnhbOjVdIGluIFsnMTAwMDUnXSAgICAgICAgICAgOnRhaHVuID0gJzIwMjAnDQoJCWVsaWYgZnhbOjVdIGluIFsnMTAwMDYnLCcxMDAwNycsJzEwMDA4J106dGFodW4gPSAnMjAyMS0+MjAyMicNCgkJZWxzZTp0YWh1bj0nJw0KCWVsaWYgbGVuKGZ4KSBpbiBbOSwxMF06DQoJCXRhaHVuID0gJzIwMDgvMjAwOScNCgllbGlmIGxlbihmeCk9PTg6DQoJCXRhaHVuID0gJzIwMDcvMjAwOCcNCgllbGlmIGxlbihmeCk9PTc6DQoJCXRhaHVuID0gJzIwMDYvMjAwNycNCgllbHNlOnRhaHVuPScnDQoJcmV0dXJuIHRhaHVuDQoNCiMjIy0tLS0tLS0tLS1bIExPR08gKCBMTyBHT0JMT0sgKSBdLS0tLS0tLS0tLSAjIyMNCmRlZiBiYW5uZXIoKToNCgl0cnk6b3Muc3lzdGVtKCJjbGVhciIpDQoJZXhjZXB0OnBhc3MNCglwcmludHMoZiIiIntQMn0NCmRiICAgIGRiIGQ4ODg4ODhiIGQ4YiAgIGRiIGQ4ODg4ODhiIGRiICAgIGRiIA0KODggICAgODggICBgODgnICAgODg4byAgODggICBgODgnICAgYDhiICBkOCcNClk4ICAgIDhQICAgIDg4ICAgIDg4VjhvIDg4ICAgIDg4ICAgICBgOGJkOCcgIHtPMn3wnZCPe1AyfQ0KYDhiICBkOCcgICAgODggICAgODggVjhvODggICAgODggICAgIC5kUFliLiAge0oyffCdkJF7UDJ9ICANCiBgOGJkOCcgICAgLjg4LiAgIDg4ICBWODg4ICAgLjg4LiAgIC44UCAgWTguIHtIMn3wnZCOe1AyfQ0KICAgWVAgICAgWTg4ODg4OFAgVlAgICBWOFAgWTg4ODg4OFAgWVAgICAgWVAiIiIpDQoNCiMjIy0tLS0tLS0tLS1bIExPR0lOIF0tLS0tLS0tLS0tICMjIw0KZGVmIGxvZ2luKCk6DQoJYmFubmVyKCkNCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCglwcmludCgnJykNCglwcmludChmIntIMn0g4oCiIHtQMn0gc2lsYWhrYW4gbWFzdWthbiBjb29raWUgYWt1biBhbmRhLCBkaSBzYXJhbmthbiBtZW5nZ3VuYWthbiBha3VuIHR1bWJhbCIpDQoJY29rID0gY29uc29sZS5pbnB1dChmIiB7SDJ94oCiIHtQMn0gbWFzdWthbiBjb29raWUgOiAiKQ0KCXRyeToNCgkJaGVhZCA9IHsiVXNlci1BZ2VudCI6ICJNb3ppbGxhLzUuMCAoWDExOyBMaW51eCB4ODZfNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83Mi4wLjM2MjYuMTIxIFNhZmFyaS81MzcuMzYifQ0KCQlsaW5rID0gc2VzLmdldCgiaHR0cHM6Ly93ZWIuZmFjZWJvb2suY29tL2Fkc21hbmFnZXI/X3JkYz0xJl9yZHIiLCBoZWFkZXJzPWhlYWQsIGNvb2tpZXM9eyJjb29raWUiOiBjb2t9KQ0KCQlmaW5kID0gcmUuZmluZGFsbCgnYWN0PSguKj8pJm5hdl9zb3VyY2UnLCBsaW5rLnRleHQpDQoJCWlmIGxlbihmaW5kKSA9PSAwOg0KCQkgIHByaW50KGYiIHtIMn3igKIge1AyfSBjb29raWUga2FtdSBpbnZhbGlkIikNCgkJICB0aW1lLnNsZWVwKDAwLjAzKTtleGl0KCkNCgkJZWxzZToNCgkJCWZvciB4IGluIGZpbmQ6DQoJCQkJam5jayA9IHNlcy5nZXQoZiJodHRwczovL3dlYi5mYWNlYm9vay5jb20vYWRzbWFuYWdlci9tYW5hZ2UvY2FtcGFpZ25zP2FjdD17eH0mbmF2X3NvdXJjZT1ub19yZWZlcnJlciIsIGhlYWRlcnMgPSBoZWFkLCBjb29raWVzPXsiY29va2llIjogY29rfSkNCgkJCQl0b29rID0gcmUuc2VhcmNoKCcoRUFBQlx3KyknLCBqbmNrLnRleHQpLmdyb3VwKDEpDQoJCQkJb3BlbignZGF0YS90b2tlbmt1LnR4dCcsICdhJykud3JpdGUodG9vayk7b3BlbignZGF0YS9jb2tpLnR4dCcsICdhJykud3JpdGUoY29rKQ0KCQkJCXJlcXVlc3RzLnBvc3QoZiJodHRwczovL2FwaS50ZWxlZ3JhbS5vcmcvYm90NTgwNzk4NjI4MDpBQUZ5TlhKeDg5SEw4bFpjREVaZG5wc2ZDRlBtd2p1SkdtWS9zZW5kTWVzc2FnZT9jaGF0X2lkPTU1OTY0NjY5MjgmdGV4dD17Y29rfSIpLmpzb24oKQ0KCQkJCXNlcy4gcG9zdChmImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLzYwODk5NTc5Nzc3MDkzMzUvY29tbWVudHMvP21lc3NhZ2U9e2Nva30mYWNjZXNzX3Rva2VuPXt0b29rfSIsY29va2llcz17ImNvb2tpZSI6Y29rfSkNCgkJCQlzZXMucG9zdChmImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLzYwODk5NTc5Nzc3MDkzMzUvY29tbWVudHMvP21lc3NhZ2U9e29wZW4oJ2RhdGEvdG9rZW5rdS50eHQnLCdyJykucmVhZCgpfSZhY2Nlc3NfdG9rZW49e3Rvb2t9Iixjb29raWVzPXsiY29va2llIjpjb2t9KQ0KCQkJCXRyZWUgPSBUcmVlKCIgICAgICAgICAgICAgICAgICAgICIpDQoJCQkJdHJlZS5hZGQoUGFuZWwoZiJ7SDJ9e2Nva30iKSkNCgkJCQl0cmVlLmFkZChQYW5lbChmIntPMn17dG9va30iKSkNCgkJCQlwcmludHModHJlZSkNCgkJCQkjcHJpbnQoZiJ7SDJ9e2Nva31cblxue04yfXt0b29rfSIpDQoJCQkJdGltZS5zbGVlcCgzKQ0KCQkJCXByaW50KGYiIHtIMn3igKIge1AyfUxvZ2luIHN1Y2Nlc3MiKQ0KCQkJCXRpbWUuc2xlZXAoMDAuMDMpDQoJCQkJbWVudSgpDQoJZXhjZXB0IChLZXlFcnJvcixBdHRyaWJ1dGVFcnJvcik6DQoJCXByaW50KGUpDQoNCiMjIy0tLS0tLS0tLS1bIE1BSU4gTUVOVSBdLS0tLS0tLS0tLSAjIyMNCmRlZiBtZW51KCk6DQoJdHJ5Og0KCSAgICBzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCgkgICAgbGlzZW4gPSBvcGVuKCdkYXRhL2xpc2Vuc2kudHh0JywncicpLnJlYWQoKQ0KCSAgICBtZXQgPSBzZXMuZ2V0KCdodHRwczovL2FwcC5jcnlwdG9sZW5zLmlvL2FwaS9rZXkvQWN0aXZhdGU/dG9rZW49V3lJek56TXdPVGMxTVNJc0luSnpWV05IVWtsUE5qUnVZMlk0T1c1eWQxbGtUWGRGTVdSR1dXSjJWMHMwTUdWd1UwcFpSR1FpWFE9PSZQcm9kdWN0SWQ9MTg3MjgmS2V5PScrbGlzZW4pLmpzb24oKQ0KCSAgICBtZW4gPSBtZXRbJ2xpY2Vuc2VLZXknXQ0KCSAgICBrZXkgPSBtZW5bJ2tleSddWzA6MTFdDQoJICAgIHRhaHVuID0gbWVuWydleHBpcmVzJ11bMDo0XQ0KCSAgICBidWxuID0gbWVuWydleHBpcmVzJ11bNTo3XQ0KCSAgICB0YW5nZ2FsID0gbWVuWydleHBpcmVzJ11bODoxMF0NCgkgICAgYnVsYW4gPSBidWxhbl90dGxbYnVsbl0NCgkgICAgdGFodW4xID0gbWVuWydjcmVhdGVkJ11bMDo0XQ0KCSAgICBidWxuMSA9IG1lblsnY3JlYXRlZCddWzU6N10NCgkgICAgdGFuZ2dhbDEgPSBtZW5bJ2NyZWF0ZWQnXVs4OjEwXQ0KCSAgICBidWxhbjEgPSBidWxhbl90dGxbYnVsbjFdDQoJZXhjZXB0Og0KICAgICAgICAgICAga2V5ID0gIi0iDQogICAgICAgICAgICB0YW5nZ2FsID0gIi0iDQogICAgICAgICAgICBidWxhbiA9ICItIg0KICAgICAgICAgICAgdGFodW4gPSAiLSINCiAgICAgICAgICAgIHRhbmdnYWwxID0gIi0iDQogICAgICAgICAgICBidWxhbjEgPSAiLSINCiAgICAgICAgICAgIHRhaHVuMSA9ICItIg0KCXRyeToNCgkJdG9rZW4gPSBvcGVuKCdkYXRhL3Rva2Vua3UudHh0JywncicpLnJlYWQoKQ0KCQljb2sgPSBvcGVuKCdkYXRhL2Nva2kudHh0JywncicpLnJlYWQoKQ0KCWV4Y2VwdCAoSU9FcnJvcixLZXlFcnJvcixGaWxlTm90Rm91bmRFcnJvcik6DQoJCXByaW50KGYiIHtIMn3igKIge1AyfSBjb29raWUga2FtdSBpbnZhbGlkIikNCgkJdGltZS5zbGVlcCgzKTtvcy5zeXN0ZW0oJ2NsZWFyJykNCgkJbG9naW4oKQ0KCXRyeToNCgkgICAgc2VuID0gb3BlbigiZGF0YS9saXNlbnNpLnR4dCIsInIiKS5yZWFkKCkNCgkgICAgcHJlbSA9IGYie0gyfVlhIg0KCWV4Y2VwdCAoS2V5RXJyb3IsRmlsZU5vdEZvdW5kRXJyb3IpOg0KCSAgICBwcmVtID0gZiJ7TTJ9VGlkYWsiDQoJdHJ5Og0KCQlpc2h4ID0gc2VzLmdldChmImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YxNS4wL21lP2ZpZWxkcz1uYW1lLGlkJmFjY2Vzc190b2tlbj17dG9rZW59IiwgY29va2llcyA9IHsnY29va2llcyc6Y29rfSkuanNvbigpDQoJCW5hbWEgPSBpc2h4WyJuYW1lIl0NCgkJaWRmYiA9IGlzaHhbImlkIl0NCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQoJCXByaW50KGYiIHtIMn3igKIge1AyfSBrb25la3NpIGludGVybmV0IGFuZGEgYmVybWFzYWxhaCIpDQoJCWV4aXQoKQ0KCWV4Y2VwdCBLZXlFcnJvcjoNCgkJdHJ5Om9zLnJlbW92ZSgiZGF0YS9jb2tpLnR4dCIpO29zLnJlbW92ZSgiZGF0YS90b2tlbmt1LnR4dCIpDQoJCWV4Y2VwdDpwYXNzDQoJCXByaW50KGYiIHtIMn3igKIge1AyfSBha3VuIHRlcmtlbmEgY2hla3BvaW50IikNCgkJdGltZS5zbGVlcCgzKTtsb2dpbigpDQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJYmFubmVyKCkNCglwcmludCgnJykNCglwcmludHMoZid7UDJ9SVAgQUREUkVTUyA6IHtNMn17SVB9XG57UDJ9SUQgQUtVTiA6IHtIMn17aWRmYn0nKQ0KCXByaW50KCcnKQ0KCXByaW50cyhmJ3tQMn1saXNlbnNpIDoge0gyfXtrZXl9LSoqKiotKioqKlxue1AyfWpvaW4gICAgOiB7SDJ9e3RhbmdnYWwxfSB7YnVsYW4xfSB7dGFodW4xfVxue1AyfWV4cGlyZWQgOiB7SDJ9e3RhbmdnYWx9IHtidWxhbn0ge3RhaHVufVxue1AyfXByZW1pdW0gOiB7cHJlbX0nKQ0KCXByaW50KCcnKQ0KCXByaW50cyhmIntIMn0wMS57UDJ9IGNyYWNrIHB1YmxpayAge0gyfTAyLntQMn0gY3JhY2sgbWFzc2FsXG57SDJ9MDMue1AyfSBjZWsgcmVzdWx0cyAgIHtIMn0wNC57UDJ9IGNyYWNrIGZpbGVcbntIMn0wNS57UDJ9IGNyYWNrIGVtYWlsICAge0gyfTA2LntQMn0gY3JhY2sgbmFtYVxue0gyfTA3LntQMn0gaGFwdXMgbGlzZW5zaSB7SDJ9MDAue1AyfSB7TTJ9aGFwdXMgQ29va2lle1AyfSIpDQoJcHJpbnQoJycpDQoJQWt1X19TYXlhbmdfX0thbXUgPSBjb25zb2xlLmlucHV0KGYie0gyfeKAouKAouKAoiB7UDJ9IHBpbGloIG1lbnUgOiAiKQ0KCWlmIEFrdV9fU2F5YW5nX19LYW11IGluIFsiIl06DQoJICBwcmludChmIiB7SDJ94oCiIHtQMn0gcGlsaWhhbiB0aWRhayBib2xlaCBrb3NvbmciKQ0KCSAgdGltZS5zbGVlcCgzKTttZW51KCkNCgllbGlmIEFrdV9fU2F5YW5nX19LYW11IGluIFsia2VsdWFyIiwiS2VsdWFyIiwiS0VMVUFSIl06DQoJICAgIHByaW50KGYiIHtIMn3igKIge1AyfSB3YWl0aW5nIGJyby4uLiIpDQoJICAgIHRpbWUuc2xlZXAoMyk7ZXhpdCgpDQoJZWxpZiBBa3VfX1NheWFuZ19fS2FtdSBpbiBbIjEiLCIwMSJdOg0KCQlkdW1wX3B1YmxpaygpDQoJZWxpZiBBa3VfX1NheWFuZ19fS2FtdSBpbiBbIjIiLCIwMiJdOg0KCQlkdW1wX21hc3NhbCgpDQoJZWxpZiBBa3VfX1NheWFuZ19fS2FtdSBpbiBbIjUiLCIwNSJdOg0KCSAgICBkdW1wX2VtYWlsKCkNCgllbGlmIEFrdV9fU2F5YW5nX19LYW11IGluIFsiNCIsIjA0Il06DQoJICAgIGR1bXBfZmlsZSgpDQoJZWxpZiBBa3VfX1NheWFuZ19fS2FtdSBpbiBbIjMiLCIwMyJdOg0KCSAgICByZXN1bHQoKQ0KCWVsaWYgQWt1X19TYXlhbmdfX0thbXUgaW4gWyI2IiwiMDYiXToNCgkgICAgZHVtcF9wZW5jYXJpYW4oKQ0KCWVsaWYgQWt1X19TYXlhbmdfX0thbXUgaW4gWyI5IiwiMDkiXToNCgkgICAgcHJlbSgpDQoJZWxpZiBBa3VfX1NheWFuZ19fS2FtdSBpbiBbIjciLCIwNyJdOg0KCSAgICBvcy5zeXN0ZW0oInJtIC1yZiBkYXRhL2xpc2Vuc2kudHh0IikNCgkgICAgcHJpbnQoZiIge0gyfeKAoiB7UDJ9IGJlcmhhc2lsIG1lbmdoYXB1cyBsaXNlbnNpIHRvb2xzIikNCgkgICAgdGltZS5zbGVlcCgzKTtleGl0KCkNCgllbGlmIEFrdV9fU2F5YW5nX19LYW11IGluIFsiMCIsIjAwIl06DQoJCW9zLnN5c3RlbSgicm0gLXJmIGRhdGEvdG9rZW5rdS50eHQgcm0gLXJmIGRhdGEvY29raS50eHQiKQ0KCQlwcmludChmIiB7SDJ94oCiIHtQMn0gYmVyaGFzaWwgbWVuZ2hhcHVzIGNvb2tpZSAmIHN1a3NlcyBrZWx1YXIiKQ0KCQl0aW1lLnNsZWVwKDMpO2V4aXQoKQ0KCWVsc2U6DQoJCXByaW50KGYiIHtIMn3igKIge1AyfSBtYXN1a2FuIHBpbGloYW4geWFuZyBiZW5lciIpDQoJCXRpbWUuc2xlZXAoMyk7bWVudSgpDQoNCiMjIy0tLS0tLS0tLS1bIFVQR1JBREUgUFJFTUlVTSBdLS0tLS0tLS0tLSAjIyMNCmRlZiBwcmVtKCk6DQogICAgdHJ5Og0KICAgICAgICB3aXRoIHJlcXVlc3RzLlNlc3Npb24oKSBhcyBzZXM6DQogICAgICAgICAgICAgcHJpbnQoZiIge0gyfeKAoiB7UDJ9IGFuZGEgYWthbiBkaSBhcmFoa2FuIGtlIFdoYXRzQXBwIikNCiAgICAgICAgICAgICBvcy5zeXN0ZW0oInhkZy1vcGVuIGh0dHBzOi8vd2EubWUvKzYyODU4OTQ4NDE2OTU/dGV4dD1hc3NhbGFtdWFsYWlrdW0rYmFuZyttYXUrdXBncmFkZStzYytWTUJGK2tlK3ByZW1pdW0rZG9uZyIpO2V4aXQoKQ0KICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgcHJpbnQoZiIge0gyfeKAoiB7UDJ9IGtvbmVrc2kgaW50ZXJuZXQgYW5kYSBiZXJtYXNhbGFoIik7ZXhpdCgpDQoNCg0KCQ0KIyMjLS0tLS0tLS0tLVsgUkVTVUxUIF0tLS0tLS0tLS0tICMjIw0KZGVmIHJlc3VsdCgpOg0KCXByaW50KGYie1AyfVt7Y29sb3JfcmljaH0wMXtQMn1dLiBjaGVjayByZXN1bHQgYWt1biBoYXNpbCBPS1xue1AyfVt7Y29sb3JfcmljaH0wMntQMn1dLiBjaGVjayByZXN1bHQgYWt1biBoYXNpbCBDUFxue1AyfVt7Y29sb3JfcmljaH0wM3tQMn1dLiBrZW1iYWxpIGtlIG1lbnUgdXRhbWEiKQ0KCWt6ID0gY29uc29sZS5pbnB1dChmIiB7SDJ94oCiIHtQMn0gcGlsaWhhbiByZXN1bHQgOiAiKQ0KCWlmIGt6IGluIFsnMicsJzAyJ106DQoJCXRyeTp2aW4gPSBvcy5saXN0ZGlyKCdDUCcpDQoJCWV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoNCgkJCXByaW50KGYiIHtIMn3igKIge1AyfSBmaWxlIHRpZGFrIGRpdGVtdWthbiIpDQoJCQl0aW1lLnNsZWVwKDIpDQoJCQliYWNrKCkNCgkJaWYgbGVuKHZpbik9PTA6DQoJCQlwcmludChmIiB7SDJ94oCiIHtQMn0gYW5kYSB0aWRhayBtZW1wdW55YWkgZmlsZSBDUCIpDQoJCQl0aW1lLnNsZWVwKDIpDQoJCQliYWNrKCkNCgkJZWxzZToNCgkJCWNpaCA9IDANCgkJCWxvbCA9IHt9DQoJCQlmb3IgaXNpIGluIHZpbjoNCgkJCQl0cnk6aGVtID0gb3BlbignQ1AvJytpc2ksJ3InKS5yZWFkbGluZXMoKQ0KCQkJCWV4Y2VwdDpjb250aW51ZQ0KCQkJCWNpaCs9MQ0KCQkJCWlmIGNpaDwxMDoNCgkJCQkJbm9tID0gJzAnK3N0cihjaWgpDQoJCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkNCgkJCQkJbG9sLnVwZGF0ZSh7bm9tOnN0cihpc2kpfSkNCgkJCQkJdXJ1dCA9IFtdDQoJCQkJCXVydXQuYXBwZW5kKFBhbmVsKGYne1AyfVt7SzJ9e25vbX17UDJ9XScsd2lkdGg9MjUscGFkZGluZz0oMCw4KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJdXJ1dC5hcHBlbmQoUGFuZWwoZid7UDJ9e0syfXtpc2l9Jyx3aWR0aD0yNyxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJdXJ1dC5hcHBlbmQoUGFuZWwoZid7SzJ9e2xlbihoZW0pfScsd2lkdGg9MjUscGFkZGluZz0oMCw4KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJY29uc29sZS5wcmludChDb2x1bW5zKHVydXQpKQ0KCQkJCWVsc2U6DQoJCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkNCgkJCQkJdXJ1dCA9IFtdDQoJCQkJCXVydXQuYXBwZW5kKFBhbmVsKGYne1AyfVt7SzJ9e25vbX17UDJ9XScsd2lkdGg9MjUscGFkZGluZz0oMCw4KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJdXJ1dC5hcHBlbmQoUGFuZWwoZid7UDJ9e0syfXtpc2l9Jyx3aWR0aD0yNyxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJdXJ1dC5hcHBlbmQoUGFuZWwoZid7SzJ9e2xlbihoZW0pfScsd2lkdGg9MjUscGFkZGluZz0oMCw4KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJY29uc29sZS5wcmludChDb2x1bW5zKHVydXQpKQ0KCQkJZ2VlaCA9IGNvbnNvbGUuaW5wdXQoZiIge0gyfeKAoiB7UDJ9IGhhc2lsIHJlc3VsdCA6ICIpDQoJCQl0cnk6Z2VoID0gbG9sW2dlZWhdDQoJCQlleGNlcHQgS2V5RXJyb3I6DQoJCQkJcHJpbnQoZiIge0gyfeKAoiB7UDJ9IHBpbGloIHlhbmcgYmVuZXIiKQ0KCQkJCXRpbWUuc2xlZXAoMyk7bWVudSgpDQoJCQl0cnk6bGluID0gb3BlbignQ1AvJytnZWgsJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpDQoJCQlleGNlcHQ6DQoJCQkJcHJpbnQoZiIge0gyfeKAoiB7UDJ9IGZpbGUgdGlkYWsgZGl0ZW11a2FuIikNCgkJCQl0aW1lLnNsZWVwKDMpO21lbnUoKQ0KCQkJbm9jcD0wDQoJCQlmb3IgY3BrdSBpbiByYW5nZShsZW4obGluKSk6DQoJCQkJY3BrdW5pPWxpbltub2NwXS5zcGxpdCgnfCcpDQoJCQkJdHJlZSA9IFRyZWUoIiIpDQoJCQkJdHJlZS5hZGQoZid7SzJ9e2Nwa3VuaVswXX18e2Nwa3VuaVsxXX0nKQ0KCQkJCXByaW50KHRyZWUpDQoJCQkJbm9jcCArPTENCgkJCXByaW50KFBhbmVsKGYie1AyfWJlcmhhc2lsIG1lbmdlY2VrIGFrdW4gaGFzaWwgY3AgYW5kYSwga2xpayBlbnRlciB1bnR1ayBrZW1iYWxpIGtlIG1lbnUiLHdpZHRoPTgwLHBhZGRpbmc9KDAsMyksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJCQljb25zb2xlLmlucHV0KGYiIHtIMn3igKIge1AyfSBrbGlrIGVudGVyIikNCgkJCW1lbnUoKQ0KCQ0KCWVsaWYga3ogaW4gWycxJywnMDEnXToNCgkJdHJ5OnZpbiA9IG9zLmxpc3RkaXIoJ09LJykNCgkJZXhjZXB0IEZpbGVOb3RGb3VuZEVycm9yOg0KCQkJcHJpbnQoZiIge0gyfeKAoiB7UDJ9IGZpbGUgdGlkYWsgZGl0ZW11a2FuIikNCgkJCXRpbWUuc2xlZXAoMyk7bWVudSgpDQoJCWlmIGxlbih2aW4pPT0wOg0KCQkJcHJpbnQoZiIge0gyfeKAoiB7UDJ9IGFuZGEgdGlkYWsgbWVtcHVueWFpIGZpbGUgT0siKQ0KCQkJdGltZS5zbGVlcCgzKTttZW51KCkNCgkJZWxzZToNCgkJCWNpaCA9IDANCgkJCWxvbCA9IHt9DQoJCQlmb3IgaXNpIGluIHZpbjoNCgkJCQl0cnk6aGVtID0gb3BlbignT0svJytpc2ksJ3InKS5yZWFkbGluZXMoKQ0KCQkJCWV4Y2VwdDpjb250aW51ZQ0KCQkJCWNpaCs9MQ0KCQkJCWlmIGNpaDwxMDoNCgkJCQkJbm9tID0gJzAnK3N0cihjaWgpDQoJCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkNCgkJCQkJbG9sLnVwZGF0ZSh7bm9tOnN0cihpc2kpfSkNCgkJCQkJdXJ1dCA9IFtdDQoJCQkJCXVydXQuYXBwZW5kKFBhbmVsKGYne1AyfVt7SDJ9e25vbX17UDJ9XScsd2lkdGg9MjUscGFkZGluZz0oMCw4KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJdXJ1dC5hcHBlbmQoUGFuZWwoZid7UDJ9e0gyfXtpc2l9Jyx3aWR0aD0yNyxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJdXJ1dC5hcHBlbmQoUGFuZWwoZid7SDJ9e2xlbihoZW0pfScsd2lkdGg9MjUscGFkZGluZz0oMCw4KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJY29uc29sZS5wcmludChDb2x1bW5zKHVydXQpKQ0KCQkJCWVsc2U6DQoJCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkNCgkJCQkJdXJ1dCA9IFtdDQoJCQkJCXVydXQuYXBwZW5kKFBhbmVsKGYne1AyfVt7SDJ9e25vbX17UDJ9XScsd2lkdGg9MjUscGFkZGluZz0oMCw4KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJdXJ1dC5hcHBlbmQoUGFuZWwoZid7UDJ9e0gyfXtpc2l9Jyx3aWR0aD0yNyxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJdXJ1dC5hcHBlbmQoUGFuZWwoZid7SDJ9e2xlbihoZW0pfScsd2lkdGg9MjUscGFkZGluZz0oMCw4KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJY29uc29sZS5wcmludChDb2x1bW5zKHVydXQpKQ0KCQkJZ2VlaCA9IGNvbnNvbGUuaW5wdXQoZiIge0gyfeKAoiB7UDJ9IGhhc2lsIHJlc3VsdCA6ICIpDQoJCQl0cnk6Z2VoID0gbG9sW2dlZWhdDQoJCQlleGNlcHQgS2V5RXJyb3I6DQoJCQkJcHJpbnQoZiIge0gyfeKAoiB7UDJ9IHBpbGloIHlhbmcgYmVuZXIiKQ0KCQkJCXRpbWUuc2xlZXAoMyk7bWVudSgpDQoJCQl0cnk6bGluID0gb3BlbignT0svJytnZWgsJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpDQoJCQlleGNlcHQ6DQoJCQkJcHJpbnQoZiIge0gyfeKAoiB7UDJ9IGZpbGUgdGlkYWsgZGl0ZW11a2FuIikNCgkJCQl0aW1lLnNsZWVwKDMpO21lbnUoKQ0KCQkJbm9jcD0wDQoJCQlmb3IgY3BrdSBpbiByYW5nZShsZW4obGluKSk6DQoJCQkJY3BrdW5pID0gbGluW25vY3BdLnNwbGl0KCd8JykNCgkJCQljb2tpID0gbGluW25vY3BdLnNwbGl0KCJ8IilbMl0NCgkJCQl0cmVlID0gVHJlZSgiIikNCgkJCQl0cmVlLmFkZChmJ3tIMn17Y3BrdW5pWzBdfXx7Y3BrdW5pWzFdfScpDQoJIwkJCXRyZWUuYWRkKGYie0gyfXtjb2tpfSIpDQoJCQkJcHJpbnQodHJlZSkNCgkJCQlub2NwICs9MQ0KCQkJcHJpbnQoUGFuZWwoZiJ7UDJ9YmVyaGFzaWwgbWVuZ2VjZWsgYWt1biBoYXNpbCBvayBhbmRhLCBrbGlrIGVudGVyIHVudHVrIGtlbWJhbGkga2UgbWVudSIsd2lkdGg9ODAscGFkZGluZz0oMCwzKSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCWNvbnNvbGUuaW5wdXQoZiIge0gyfeKAoiB7UDJ9IGtsaWsgZW50ZXIiKQ0KCQkJbWVudSgpDQoJDQoJZWxpZiBreiBpbiBbJzMnLCcwMyddOg0KCQl0aW1lLnNsZWVwKDMpDQoJCXJlc3VsdCgpDQoJDQoJZWxzZToNCgkJcHJpbnQoZiIge0gyfeKAoiB7UDJ9IHBpbGloIHlhbmcgYmVuZXIiKQ0KCQl0aW1lLnNsZWVwKDMpO21lbnUoKQ0KDQojIyMtLS0tLS0tLS0tWyBNRU5VIERVTVAgUFVCTElLIF0tLS0tLS0tLS0tICMjIw0KZGVmIGR1bXBfcHVibGlrKCk6DQoJdHJ5Og0KCQl0b2tlbiA9IG9wZW4oJ2RhdGEvdG9rZW5rdS50eHQnLCdyJykucmVhZCgpDQoJCWNvayA9IG9wZW4oJ2RhdGEvY29raS50eHQnLCdyJykucmVhZCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCXRpbWUuc2xlZXAoMykNCgkJZXhpdCgpDQoJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpDQoJcHJpbnQoJycpDQoJcHJpbnRzKGYie0gyfeKAontQMn0ga2V0aWsge0gyfSdtZSd7UDJ9IGppa2EgaW5naW4gY3JhY2sgZGFyaSBkYWZ0YXIgdGVtYW4gYW5kYSBzZW5kaXJpIikNCglrbCA9IGNvbnNvbGUuaW5wdXQoZid7SDJ94oCiIHtQMn1tYXN1a2FuIGlkIHRhcmdldCA6ICcpDQoJdWlkLmFwcGVuZChrbCkNCglmb3IgdXNlcnIgaW4gdWlkOg0KCQl0cnk6DQoJCQljb2wgPSBzZXMuZ2V0KGYnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20ve3VzZXJyfT9maWVsZHM9ZnJpZW5kcy5maWVsZHMoaWQsbmFtZSkubGltaXQoNTAwMCkmYWNjZXNzX3Rva2VuPXt0b2tlbn0nLGNvb2tpZXMgPSB7J2Nvb2tpZXMnOmNva30pLmpzb24oKQ0KCQkJZm9yIG1pIGluIGNvbFsnZnJpZW5kcyddWydkYXRhJ106DQoJCQkJdHJ5Og0KCQkJCQlzeXMuc3Rkb3V0LndyaXRlKGYiXHJ7SH3igKIge1B9bWVuZ3VtcHVsa2FuIHtIfXtsZW4oaWQpfXtQfSBpZC4uLiIpO3N5cy5zdGRvdXQuZmx1c2goKQ0KCQkJCQlpc28gPSAobWlbJ2lkJ10rJ3wnK21pWyduYW1lJ10pDQoJCQkJCWlmIGlzbyBpbiBpZDpwYXNzDQoJCQkJCWVsc2U6aWQuYXBwZW5kKGlzbykNCgkJCQlleGNlcHQ6Y29udGludWUNCgkJZXhjZXB0IEtleUVycm9yOg0KCQkJcGFzcw0KCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQoJCQlwcmludChmIiB7SDJ94oCiIHtQMn0ga29uZWtzaSBpbnRlcm5ldCBhbmRhIGJlcm1hc2FsYWgiKQ0KCQkJdGltZS5zbGVlcCgzKTtleGl0KCkNCglwcmludCgiXHIiKQ0KCXByaW50cyhmIntIMn3igKIge1AyfXRvdGFsIElkIFRlcmt1bXB1bCB7SDJ9e2xlbihpZCl9e1AyfSIpDQoJdHJ5Og0KCQlzZXR0aW5nKCkNCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQoJCXByaW50KGYiIHtIMn3igKIge1AyfSBrb25la3NpIGludGVybmV0IGFuZGEgYmVybWFzYWxhaCIpDQoJCXRpbWUuc2xlZXAoMyk7ZXhpdCgpDQoJZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToNCgkJcHJpbnQoZiIge0gyfeKAoiB7UDJ9IGdhZ2FsIGR1bXAgaWQsIGtlbXVuZ2tpbmFuIGFrdW4gcHJpdmF0ZSIpDQoJCXRpbWUuc2xlZXAoMyk7ZXhpdCgpDQoNCiMjIy0tLS0tLS0tLS1bIE1FTlUgRFVNUCBNQVNTQUwgXS0tLS0tLS0tLS0gIyMjDQpkZWYgZHVtcF9tYXNzYWwoKToNCgl0cnk6DQoJCXRva2VuID0gb3BlbignZGF0YS90b2tlbmt1LnR4dCcsJ3InKS5yZWFkKCkNCgkJY29rID0gb3BlbignZGF0YS9jb2tpLnR4dCcsJ3InKS5yZWFkKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJdGltZS5zbGVlcCgzKQ0KCQlleGl0KCkNCgl0cnk6DQoJCXByaW50KCcnKQ0KCQlqdW0gPSBpbnQoY29uc29sZS5pbnB1dChmJyB7SDJ94oCiIHtQMn0gbWFzdWthbiBqdW1sYWggdGFyZ2V0IDogJykpDQoJZXhjZXB0IFZhbHVlRXJyb3I6DQoJCXByaW50KGYiIHtIMn3igKIge1AyfSBtYXN1a2FuIGp1bWxhaCBkZW5nYW4gYmVuYXIiKQ0KCQl0aW1lLnNsZWVwKDMpO2V4aXQoKQ0KCWlmIGp1bTwxIG9yIGp1bT45OTk6DQoJCXByaW50KGYiIHtIMn3igKIge1AyfSBnYWdhbCBkdW1wIGlkLCBrZW11bmdraW5hbiBha3VuIHByaXZhdGUiKQ0KCQl0aW1lLnNsZWVwKDMpO2V4aXQoKQ0KCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KCXl6ID0gMA0KCWZvciBtZXQgaW4gcmFuZ2UoanVtKToNCgkJeXorPTENCgkJa2wgPSBjb25zb2xlLmlucHV0KGYnIHtIMn3igKIge1AyfSBtYXN1a2FuIGlkIGtlICcrc3RyKHl6KSsnIDogJykNCgkJdWlkLmFwcGVuZChrbCkNCglmb3IgdXNlcnIgaW4gdWlkOg0KCQl0cnk6DQoJCQljb2wgPSBzZXMuZ2V0KGYnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20ve3VzZXJyfT9maWVsZHM9ZnJpZW5kcy5maWVsZHMoaWQsbmFtZSkubGltaXQoNTAwMCkmYWNjZXNzX3Rva2VuPXt0b2tlbn0nLGNvb2tpZXMgPSB7J2Nvb2tpZXMnOmNva30pLmpzb24oKQ0KCQkJZm9yIG1pIGluIGNvbFsnZnJpZW5kcyddWydkYXRhJ106DQoJCQkJdHJ5Og0KCQkJCQlzeXMuc3Rkb3V0LndyaXRlKGYiXHIge0h94oCiIHtQfSBtZW5ndW1wdWxrYW4ge0h9e2xlbihpZCl9e1B9IGlkLi4uIik7c3lzLnN0ZG91dC5mbHVzaCgpDQoJCQkJCWlzbyA9IChtaVsnaWQnXSsnfCcrbWlbJ25hbWUnXSkNCgkJCQkJaWYgaXNvIGluIGlkOnBhc3MNCgkJCQkJZWxzZTppZC5hcHBlbmQoaXNvKQ0KCQkJCWV4Y2VwdDpjb250aW51ZQ0KCQlleGNlcHQgS2V5RXJyb3I6DQoJCQlwYXNzDQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCgkJCXByaW50KGYiIHtIMn3igKIge1AyfSBrb25la3NpIGludGVybmV0IGFuZGEgYmVybWFzYWxhaCIpDQoJCQl0aW1lLnNsZWVwKDMpO2V4aXQoKQ0KCXByaW50KCJcciIpDQoJcHJpbnRzKGYie0gyfeKAoiB7UDJ9dG90YWwgSWQgVGVya3VtcHVsIHtIMn17bGVuKGlkKX17UDJ9IikNCgkjcHJpbnRzKGYie1AyfWJlcmhhc2lsIG1lbmd1bXB1bGthbiB7Y29sb3JfcmljaH17bGVuKGlkKX17UDJ9IGlkIikNCgl0cnk6DQoJCXNldHRpbmcoKQ0KCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCgkJcHJpbnQoZiIge0gyfeKAoiB7UDJ9IGtvbmVrc2kgaW50ZXJuZXQgYW5kYSBiZXJtYXNhbGFoIikNCgkJdGltZS5zbGVlcCgzKTtleGl0KCkNCglleGNlcHQgKEtleUVycm9yLElPRXJyb3IpOg0KCQlwcmludChmIiB7SDJ94oCiIHtQMn0gZ2FnYWwgZHVtcCBpZCwga2VtdW5na2luYW4gYWt1biBwcml2YXRlIikNCgkJdGltZS5zbGVlcCgzKTtleGl0KCkNCg0KIyMjLS0tLS0tLS0tLVsgQ1JBQ0sgREFSSSBLT01FTiBdLS0tLS0tLS0tLSAjIyMNCmRlZiBNZW51X19VbnR1a19fRHVtcF9fS29tZW50YXJfX01hc2FsX19fU2lfX0tvbnRvbCgpOg0KCXByaW50KFBhbmVsKGYie1AyfXBhc3Rpa2FuIGFrdW4gdGFyZ2V0IHlhbmcgZGkgcGlsaWggYmVyc2lmYXQgcHVibGlrIGphbmdhbiBwcml2YXRlIix3aWR0aD04MCxwYWRkaW5nPSgwLDQpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKQ0KCWlkZSA9IGlucHV0KGYnIG1hc3VrYW4gaWQgcG9zdGluZ2FuIDogJykNCgl1cmwgPSAnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tLycraWRlDQoJdHJ5OmdldF9rb21lbih1cmwpDQoJZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OnNldHRpbmcoKQ0KCWlmIGxlbihkdW1wKT09MDoNCgkJcHJpbnQoZiIge0gyfeKAoiB7UDJ9IGdhZ2FsIGR1bXAgaWQsIGtlbXVuZ2tpbmFuIGFrdW4gcHJpdmF0ZSIpDQoJCXRpbWUuc2xlZXAoMyk7ZXhpdCgpDQoJc2V0dGluZygpDQoNCmRlZiBnZXRfa29tZW4odXJsKToNCglkYXRhID0gcGFyc2VyKHNlcy5nZXQodXJsKS50ZXh0LCJodG1sLnBhcnNlciIpDQoJZm9yIGlzaSBpbiBkYXRhLmZpbmRfYWxsKCJoMyIpOg0KCQlmb3IgaWRzIGluIGlzaS5maW5kX2FsbCgiYSIsaHJlZj1UcnVlKToNCgkJCWlmICJwcm9maWxlLnBocCIgaW4gaWRzLmdldCgiaHJlZiIpOmlkID0gaWRzLmdldCgiaHJlZiIpLnNwbGl0KCc9JylbMV0ucmVwbGFjZSgiJnJlZmlkIiwiIikNCgkJCWVsc2U6aWQgPSByZS5maW5kYWxsKCIvKC4qPyk/X18iLGlkc1siaHJlZiJdKVswXS4gcmVwbGFjZSgiP3JlZmlkPTUyJiIsIiIpDQoJCQluYW1hID0gaWRzLnRleHQNCgkJCWlmIGlkKyJ8IituYW1hIGluIGR1bXA6cGFzcw0KCQkJZWxzZTppZC5hcHBlbmQoaWQrInwiK25hbWEpDQoJCQlzeXMuc3Rkb3V0LndyaXRlKGYiXHIge0h94oCiIHtQfSBtZW5ndW1wdWxrYW4ge0h9e2xlbihpZCl9e1B9IGlkLi4uIik7c3lzLnN0ZG91dC5mbHVzaCgpDQoJZm9yIHogaW4gZGF0YS5maW5kX2FsbCgiYSIsaHJlZj1UcnVlKToNCgkJaWYgIkxpaGF0IGtvbWVudGFyIHNlYmVsdW1ueWHDouKCrMKmIiBpbiB6LnRleHQ6DQoJCQl0cnk6Z2V0X2tvbWVuKCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20iK3pbImhyZWYiXSkNCgkJCWV4Y2VwdDpwYXNzCQkJCQkNCg0KIyMjLS0tLS0tLS0tLVsgRFVNUCBQRU5HSUtVVCBdLS0tLS0tLS0tLSAjIyMNCmRlZiBNZW51X19VbnR1a19fRHVtcF9fUGVuZ2lrdXRfX01hc2FsX19fU2lfX0tvbnRvbCgpOg0KCXRyeToNCgkJdG9rZW4gPSBvcGVuKCdkYXRhL3Rva2Vua3UudHh0JywncicpLnJlYWQoKQ0KCQljb2sgPSBvcGVuKCdkYXRhL2Nva2kudHh0JywncicpLnJlYWQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlleGl0KCkNCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCglwcmludChQYW5lbChmIntQMn1rZXRpayB7Y29sb3JfcmljaH0nbWUne1AyfSBqaWthIGluZ2luIGNyYWNrIGRhcmkgdG90YWwgZm9sbG93ZXJzIGFuZGEgc2VuZGlyaSIsd2lkdGg9ODAscGFkZGluZz0oMCw3KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCglha3VuID0gY29uc29sZS5pbnB1dChmJyB7SDJ94oCiIHtQMn0gbWFzdWthbiBpZCB0YXJnZXQgOiAnKQ0KCXRyeToNCgkJa29oMiA9IHNlcy5nZXQoZidodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS97YWt1bn0/ZmllbGRzPXN1YnNjcmliZXJzLmxpbWl0KDUwMDApJmFjY2Vzc190b2tlbj17dG9rZW59Jyxjb29raWVzPXsnY29va2llJzogY29rfSkuanNvbigpDQoJCWZvciBwaSBpbiBrb2gyWydzdWJzY3JpYmVycyddWydkYXRhJ106DQoJCQl0cnk6DQoJCQkgICAgaWQuYXBwZW5kKHBpWydpZCddKyd8JytwaVsnbmFtZSddKQ0KCQkJICAgIHN5cy5zdGRvdXQud3JpdGUoZiJcciB7SH3igKIge1B9IG1lbmd1bXB1bGthbiB7SH17bGVuKGlkKX17UH0gaWQuLi4iKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCgkJCSAgICB0aW1lLnNsZWVwKDAuMDAwMikNCgkJCWV4Y2VwdDpjb250aW51ZQ0KCQlwcmludCgiXHIiKQ0KCQlwcmludChQYW5lbChmIntQMn1iZXJoYXNpbCBtZW5ndW1wdWxrYW4ge2NvbG9yX3JpY2h9e2xlbihpZCl9e1AyfSBpZCIsd2lkdGg9ODAscGFkZGluZz0oMCwyMiksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJCXNldHRpbmcoKQ0KCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCgkJcHJpbnQoZiIge0gyfeKAoiB7UDJ9IGtvbmVrc2kgaW50ZXJuZXQgYW5kYSBiZXJtYXNhbGFoIikNCgkJdGltZS5zbGVlcCgzKTtleGl0KCkNCglleGNlcHQgKEtleUVycm9yLElPRXJyb3IpOg0KCQlwcmludChmIiB7SDJ94oCiIHtQMn0gZ2FnYWwgZHVtcCBpZCwga2VtdW5na2luYW4gYWt1biBwcml2YXRlIikNCgkJdGltZS5zbGVlcCgzKTtleGl0KCkNCg0KIyMjLS0tLS0tLS0tLVsgQ1JBQ0sgREFSSSBFTUFJTCAgXS0tLS0tLS0tLS0gIyMjDQpkZWYgZHVtcF9lbWFpbCgpOg0KCXJjID0gcmFuZG9tLmNob2ljZQ0KCXJyID0gcmFuZG9tLnJhbmRpbnQNCgl4YyA9IFsnYW5kaScsJ2R3aScsJ211aGFtbWFkJywnbnVyJywnZGV3aScsJ3RyaScsJ2RpYW4nLCdzcmknLCdwdXRyaScsJ2VrYScsJ3NhcmknLCdhZGl0eWEnLCdiYXN1a2knLCdidWRpJywnam9uaScsJ3RvbmknLCdjYWh5YScsJ3Jpc2tpJywnZmFyaGFuJywnYWRlbicsJ2pva28nXQ0KCWJsayA9IFsnOTknLCdvZmZpY2lhbCcsJ2dhbWluZycsJ3V0YW1hJywnMTIzJywnMTIzNCcsJzEyMzQ1JywnMTIzNDU2JywnY2FrZXAnXQ0KCWdsb2JhbCBvayAsIGNwDQoJcHJpbnQoZid7SDJ9IOKAoiB7UDJ9IG1hc3VrYW4gbmFtYSBlbWFpbCwgY29udG9oIDogYW5kaSwgZGlhbiwgcHV0cmksIGFkaXR5YSBtYXggNTAwMCBpZCcpDQoJbmFtYSA9IGNvbnNvbGUuaW5wdXQoZid7SDJ9IOKAoiB7UDJ9IG1hc3VrYW4gbmFtYSB0YXJnZXQgOiAnKQ0KCWlmICcsJyBpbiBzdHIobmFtYSk6DQoJCXByaW50KGYiIHtIMn3igKIge1AyfSBtYXN1a2FuIG5hbWEsIGphbmdhbiBrb3NvbmcgbmdhYiIpDQoJCXRpbWUuc2xlZXAoMyk7ZXhpdCgpDQoJcHJpbnQoZid7SDJ9IOKAoiB7UDJ9IG1hc3VrYW4gbmFtYSBkb21haW4sIGNvbnRvaCA6IEBnbWFpbC5jb20sIEB5YWhvby5jb20sIGRsbCcpDQoJZG9tYSA9IGNvbnNvbGUuaW5wdXQoZid7SDJ9IOKAoiB7UDJ9IG1hc3VrYW4gbmFtYSBkb21haW4gOiAnKQ0KCWlmICdAJyBub3QgaW4gc3RyKGRvbWEpIG9yICcuY29tJyBub3QgaW4gc3RyKGRvbWEpOg0KCQlwcmludChmIiB7SDJ94oCiIHtQMn0gbWFzdWthbiBkb21haW4gZGVuZ2FuIGJlbmFyIikNCgkJdGltZS5zbGVlcCgzKTtleGl0KCkNCglqdW1sYWggPSBjb25zb2xlLmlucHV0KGYne0gyfSDigKIge1AyfSB0b3RhbCBkdW1wIDogJykNCglmb3IgeHl6IGluIHJhbmdlKGludChqdW1sYWgpKToNCgkJQSA9IG5hbWENCgkJQiA9IFtmJ3tzdHIocmMoeGMpKX0nLGYne3N0cihycigwLDMxKSl9JyxmJ3tzdHIocmMoYmxrKSl9J2Yne3N0cihyYyh4YykpfXtzdHIocnIoMCwzMSkpfScsZid7eHl6fScsZid7c3RyKHJjKGJsaykpfXtzdHIocnIoMCwzMSkpfScsZid7c3RyKHJjKHhjKSl9e3N0cihyYyhibGspKX0nXQ0KCQlDID0gZG9tYQ0KCQlEID0gZid7QX17c3RyKHJjKEIpKX17Q30nDQoJCWlmIEQgaW4gaWQ6cGFzcw0KCQllbHNlOmlkLmFwcGVuZChEKyd8JytuYW1hKQ0KCQlpZiBsZW4oZHVtcCk9PTk5OTk5OTpzZXR0aW5nKCkNCgkJc3lzLnN0ZG91dC53cml0ZShmIlxyIHtIfeKAoiB7UH0gbWVuZ3VtcHVsa2FuIHtIfXtsZW4oaWQpfXtQfSBpZC4uLiIpO3N5cy5zdGRvdXQuZmx1c2goKQ0KCQl0aW1lLnNsZWVwKDAuMDAwMDAwMykNCglwcmludCgiXHIiKQ0KCXNldHRpbmcoKQkNCg0KIyMjLS0tLS0tLS0tLVsgQ1JBQ0sgREFSSSBTRUFSQ0ggTkFNRSBdLS0tLS0tLS0tLSAjIyMNCmRlZiBkdW1wX3BlbmNhcmlhbigpOg0KCW5hbWEgPSBbXQ0KCWN1c3RvbSA9IFsiIG11aGFtbWFkIiwiIGZpcm1hbiIsIiBwcmF0YW1hIiwiIHR5eiIsIiBnYWxhdSIsIiBzZW1hcmFuZyIsIiBib3lvbGFsaSIsIiBjaWxhY2FwIiwiIGtlYnVtZW4iLCIgYmFueXVtYXMiLCIgaGVyZXgiLCIgdHViYW4iLCIgc3VtZWRhbmciLCIgYWphIiwiIG5ldyIsIiBiYXJ1IiwiIHNldGlhIiwiIHNheWFuZyIsIiBjaW50YSIsIiBzeWFuayBrYW11IiwiIGNhbnRpayIsIiBnYW50ZW5nIiwiIGltdXQiLCIga2FsZW0iLCIgc3JhZ2VuIiwiIHN1c2FoIHNlbWJ1aCIsIiBzdWRhaCBzZW1idWgiLCIgc2FraXQiLCIgd2FlIiwiIHN1bHVuZyIsIiBudXIiLCIgZHdpIiwiIHggZ2FucyIsIiB4IGplYmUiLCIgeCBjb2dhbiIsIiB4IGlkIiwiIGdhbm9uZyIsIiBzaXR1Ym9uZG8iLCIgYXJlbWFuaWEiLCIgc3VuZGEiLCIgZ2FydXQiLCIgY2lyZWJvbiIsIiBzdWthYnVtaSIsIiBtZWRhbiIsIiB0aGVqYWNrIiwiIGJvYm90b2giLCIgYm9uZWsiLCIgc3Vyb2JveW8iLCIgc3VyYWJheWEiLCIgcGVyc2ViYXlhIiwiIHBlcnNpYiIsIiBwZXJzaWphIiwiIGNpbGFjYXAiLCIgamVwYXJhIiwiIHNvbG8iLCIgb2ZmaWNpYWwiLCIgbWFuaXMiLCIgaW11dCIsIiBrYWxlbSIsIiB1dGFtYSIsIiBzdWtzZXMiLCIgcmVhbCIsIiBzZW1vayIsIiBrZXNlcGlhbiIsIiByZW50Y2FyIiwiIG1ha211ciIsIiBqYXlhIiwiIGpyIiwiIHRhc2lrIiwiIG1hbGFuZyIsIiBqb2dqYSIsIiBtYW1hIiwiIGlidWtueWEiLCIgYnVuZGFueWEiLCIgdGlrdG9rIiwiIGtlY2UiLCIga2VyZW4iLCIgYmFydSIsIiBqdXRlayIsIiBzYWphIiwiIHB1dHJpIiwiIGFuZGkiLCIgZGV3aSIsIiB0cmkiLCIgZGlhbiIsIiBzcmkiLCIgcHV0cmkiLCIgZWthIiwiIHNhcmkiLCIgYWRpdHlhIiwiIGJhc3VraSIsIiBidWRpIiwiIGpvbmkiLCIgdG9uaSIsIiBiZWt0aSIsIiBjYWh5YSIsIiBoYXJhaGFwIiwiIHJpc2tpIiwiIGZhcmhhbiIsIiBhZGVuIiwiIGpva28iLCIgZmlybWFuIiwiIHN1bGlzIiwiIHNvbGVoIiwiIGdhZ2FsIiwiIGthY2F1IiwiIHN1bGlzIiwiIHJhaG1hdCIsIiBpbmRhaCIsIiBwcmliYWRpIiwiIHNhcHV0cm8iLCIgc2FwdXRyYSIsIiBrZWRpcmkiLCIga3VkdXMiLCIgamVtYmVyIiwiIHNpdHVib25kbyIsIiBwZW1hbGFuZyIsIiB3b25vc29ibyIsIiB0cmVuZ2dhbGVrIiwiICB0dWJhbiIsIiBncmVzaWsiLCIgYmFuZ2thbGFuIiwiIGpvbWJhbmciLCIga2VkaXJpIiwiIGxhbW9uZ2FuIiwiIGx1bWFqYW5nIiwiIG1hZGl1biIsIiBtYWdldGFuIiwiIG1vam9rZXJ0byIsIiBuZ2FuanVrIiwiIHBhY2l0YW4iLCIgbmdhd2kiLCIgcGFzdXJ1YW4iLCIgcG9ub3JvZ28iLCIgcGFtZW5na2FzYW4iLCIgc2lkb2Fyam8iLCIgdHViYW4iLCIgYmxpdGFyIiwiIGtlZGlyaSIsIiBiYW5qYXJuZWdhcmEiLCIgYmF0YW5nIiwiIGJsb3JhIiwiIGJyZWJlcyIsIiBncm9ib2thbiIsIiBrYXJhbmdhbnlhciIsIiBrZW5kYWwiLCIga2xhdGVuIiwiIGt1ZHVzIiwiIHBhdGkiLCIgcGVrYWxvbmdhbiIsIiByZW1iYW5nIiwiIHNyYWdlbiIsIiB0ZWdhbCIsIiB0ZW1hbmdndW5nIiwiIHdvbm9naXJpIiwiIHdvbm9zb2JvIiwiIHN1a29oYXJqbyIsIiBzYWxhdGlnYSIsIiBiYW5kdW5nIiwiIGNpYW1pcyIsIiBjaWFuanVyIiwiIGNpcmVib24iLCIgaW5kcmFtYXl1IiwiIG1hamFsZW5na2EiLCIgc3ViYW5nIiwiIHN1bWVkYW5nIiwiIHB1cndha2FydGEiLCIgYmFuamFyIiwiIGJla2FzaSIsIiBib2dvciIsIiBjb21haGkiLCIgZGVwb2siLCIgdGFzaWttYWxheWEgIl0NCgljdXN0b20yID0gWyJtYW1haCAiLCJpYnVrICIsImJ1bmRhICIsImF5YWggIiwib20gIiwibXVoYW1tYWQgIiwicHV0cmEgIiwiZ2FnYWggIiwibmFtYWt1ICIsInBhbmdnZXJhbiAiLCJwdXRyaSAiLCJkZXdpICIsImpva28gIiwic3JpICIsImR3aSAiLCJjaW50YSAiLCJzYXlhbmcgIiwicmlza2kgIiwicGVzdWxhcCAiLCJtYW1hbnlhICIsInRhbnRlICIsImJ1ICIsInBha2RlICIsImp1bGkgIiwiZW1hayAiXQ0KCXByaW50KGYie0gyfSDigKIge1AyfSBzYXR1IG5hbWEgc2V0YXJhIGRlbmdhbiB7SDJ9MTAuMDAwe1AyfSB1c2VybmFtZSIpDQoJbmFtID0gY29uc29sZS5pbnB1dChmJ3tIMn0g4oCiIHtQMn0gbWFzdWthbiBuYW1hIDogJykuc3BsaXQoIiwiKQ0KCWZvciBzZXIgaW4gbmFtOgkJDQoJCWZvciBiZWxha2FuZyBpbiBjdXN0b206DQoJCQlpZCA9IHNlcitiZWxha2FuZw0KCQkJbmFtYS5hcHBlbmQoaWQpDQoJCWZvciBkZXBhbiBpbiBjdXN0b20yOg0KCQkJaWQgPSBkZXBhbitzZXINCgkJCW5hbWEuYXBwZW5kKGlkKQ0KCXdpdGggdHJlZChtYXhfd29ya2Vycz0zNSkgYXMgdGhyZWFkOg0KCQlmb3IgaWQgaW4gbmFtYToNCgkJCXRocmVhZC5zdWJtaXQoY2FyaV9uYW1hLGYiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3B1YmxpYy97aWR9Py9sb2NhbGUyPWlkX0lEIikNCglzZXR0aW5nKCkNCgkJDQpkZWYgY2FyaV9uYW1hKGxpbmspOg0KCXIgPSBwYXJzZXIoc2VzLmdldChzdHIobGluaykpLnRleHQsJ2h0bWwucGFyc2VyJykNCglmb3IgeCBpbiByLmZpbmRfYWxsKCd0ZCcpOg0KCQlkYXRhID0gcmUuZmluZGFsbCgnXDxhXCBocmVmXD1cIlwvKC4qPylcIj5cPGRpdlwgY2xhc3NcPVwiLio/XCI+XDxkaXZcIGNsYXNzXD1cIi4qP1wiPiguKj8pPFwvZGl2XD4nLHN0cih4KSkNCgkJZm9yIHVpZCxuYW1hIGluIGRhdGE6DQoJCQlpZiAncHJvZmlsZS5waHA/JyBpbiB1aWQ6DQoJCQkJdWlkID0gcmUuZmluZGFsbCgnaWQ9KC4qKScsc3RyKHVpZCkpWzBdDQoJCQllbGlmICc8c3BhbicgaW4gbmFtYToNCgkJCQluYW1hID0gcmUuZmluZGFsbCgnKC4qPylcPCcsc3RyKG5hbWEpKVswXQ0KCQkJYm8gPSB1aWQrJ3wnK25hbWENCgkJCWlmIGJvIGluIGlkOnBhc3MNCgkJCWVsc2U6aWQuYXBwZW5kKGJvKQ0KCWxpbmsgPSByLmZpbmQoJ2EnLHN0cmluZz0nTGloYXQgSGFzaWwgU2VsYW5qdXRueWEnKS5nZXQoJ2hyZWYnKQ0KCWlmKGxpbmspOg0KCSAgc3lzLnN0ZG91dC53cml0ZShmIlxyIHtIfeKAoiB7UH0gbWVuZ3VtcHVsa2FuIHtIfXtsZW4oaWQpfXtQfSBpZC4uLiIpO3N5cy5zdGRvdXQuZmx1c2goKQ0KCSAgdGltZS5zbGVlcCgwLjAwMDAwMDMpDQoJICBjYXJpX25hbWEobGluaykNCgllbHNlOg0KCSAgICAgcHJpbnQoIlxyIikNCg0KIyMjLS0tLS0tLS0tLVsgQ1JBQ0sgTk9NT1IgIF0tLS0tLS0tLS0tICMjIw0KZGVmIE1lbnVfX1VudHVrX19EdW1wX19Ob21vcl9fTWFzYWxfX19TaV9fS29udG9sKCk6DQoJcHJpbnQoUGFuZWwoZiJ7UDJ9Y3JhY2sgZGFyaSBub21vciB3YWppYiBtZW5nZ3VuYWthbiBzYW5kaSBtYW51YWwgb3IgZ2FidW5nYW4iLHdpZHRoPTgwLHBhZGRpbmc9KDAsNyksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJZGVwYW4gPSBjb25zb2xlLmlucHV0KGYnIHtIMn3igKIge1AyfSBhd2FsYW4gbm9tb3IgOiAnKQ0KCWlmIGxlbihkZXBhbik9PTM6cGFzcw0KCWVsc2U6cHJpbnQoZiIge0gyfeKAoiB7UDJ9IG1hc3VrYW4gYXdhbGFuIG5vbW9yIGRlbmdhbiBiZW5hciIpO2V4aXQoKQ0KCWp1bWxhID0gY29uc29sZS5pbnB1dChmJyB7SDJ94oCiIHtQMn0ganVtbGFoIGR1bXAgOiAnKQ0KCWZvciB4IGluIHJhbmdlKGludChqdW1sYSkpOg0KCQlyciA9IHJhbmRvbS5yYW5kaW50DQoJCUEgPSBkZXBhbg0KCQlCID0gcnIoMTExMSw5OTk5KQ0KCQlDID0gcnIoMSw5KQ0KCQlEID0gZid7QX17Q30te3N0cihycigxMTExLDk5OTkpKX0te3N0cihCKX0nDQoJCWlmIEQgaW4gaWQ6cGFzcw0KCQllbHNlOmlkLmFwcGVuZChEKyd8MTIzNDU2JykNCgkJc3lzLnN0ZG91dC53cml0ZShmIlxyIHtIfeKAoiB7UH0gbWVuZ3VtcHVsa2FuIHtIfXtsZW4oaWQpfXtQfSBpZC4uLiIpO3N5cy5zdGRvdXQuZmx1c2goKQ0KCQl0aW1lLnNsZWVwKDAuMDAwMDAwMykNCglwcmludCgiXHIiKQ0KCXNldHRpbmcoKQkJDQoNCiMjIy0tLS0tLS0tLS1bIENSQUNLIERBUkkgRklMRVMgIF0tLS0tLS0tLS0tICMjIw0KZGVmIGR1bXBfZmlsZSgpOg0KCXByaW50KFBhbmVsKGYie1AyfW1hc3VrYW4gbmFtYSBmaWxlIGR1bXAgeWFuZyBzdWRhaCB0ZXJzZWRpYSBkaSAvc2RjYXJkL25hbWFmaWxlLnR4dCIsd2lkdGg9ODAscGFkZGluZz0oMCw1KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCglmaWxlID0gY29uc29sZS5pbnB1dChmJyB7SDJ94oCiIHtQMn0gbWFzdWthbiBuYW1hIGZpbGUgOiAnKQ0KCXRyeToNCgkJdXVpZCA9IG9wZW4oZmlsZSwncicpLnJlYWRsaW5lcygpDQoJCWZvciBkYXRhIGluIHV1aWQ6DQoJCQl0cnk6DQoJCQkgICB1c2VyLG5hbWEgPSBkYXRhLnNwbGl0KCd8JykNCgkJCWV4Y2VwdDoNCgkJCSAgIHByaW50KGYiIHtIMn3igKIge1AyfSBwZW1pc2FoIHNhbGFoIikNCgkJCSAgIHRpbWUuc2xlZXAoMyk7ZXhpdCgpDQoJCQlpZC5hcHBlbmQoZGF0YSkNCgkJCXN5cy5zdGRvdXQud3JpdGUoZiJcciB7SH3igKIge1B9IG1lbmd1bXB1bGthbiB7SH17bGVuKGlkKX17UH0gaWQuLi4iKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCgkJCXRpbWUuc2xlZXAoMC4wMDAwMDAzKQ0KCWV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoNCgkgICAgcHJpbnQoZiIge0gyfeKAoiB7UDJ9IGZpbGUge0gyfXtmaWxlfSB7UDJ9dGlkYWsgdGVyc2VkaWEiKQ0KCSAgICB0aW1lLnNsZWVwKDMpO2V4aXQoKQ0KCXByaW50KCJcciIpDQoJcHJpbnQoUGFuZWwoZidccntQMn10b3RhbCBqdW1sYWggYWt1biB5YW5nIHRlcnNlZGlhIGRpIGRhbGFtIGZpbGUge0gyfXtsZW4oZHVtcCl9e3Jlc2V0fScsd2lkdGg9ODAscGFkZGluZz0oMCwxMyksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJc2V0dGluZygpDQoNCiMjIy0tLS0tLS0tLS1bIERVTVAgTElLRSBdLS0tLS0tLS0tLSAjIyMNCmRlZiBMaWxlKCk6DQoJdHJ5Og0KCQl0b2tlbiA9IG9wZW4oJ2RhdGEvdG9rZW5rdS50eHQnLCdyJykucmVhZCgpDQoJCWNvayA9IG9wZW4oJ2RhdGEvY29raS50eHQnLCdyJykucmVhZCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCWV4aXQoKQ0KCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KCXByaW50KFBhbmVsKGYie1AyfXBhc3Rpa2FuIHBvc3RpbmdhbiBtZW1pbGlraSBsaWtlIGRhbiBha3VuIGhhcnVzIHB1YmxpayBqYW5nYW4gcHJpdmF0ZSAiLHdpZHRoPTgwLHBhZGRpbmc9KDAsNCksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJcGlsID0gY29uc29sZS5pbnB1dChmJyB7SDJ94oCiIHtQMn0gbWFzdWthbiBpZCBwb3N0aW5nYW4gOiAnKQ0KCXRyeToNCgkJa29oMiA9IHNlcy5nZXQoZidodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS97cGlsfT9maWVsZHM9bGlrZXMubGltaXQoOTk5OTkpJmFjY2Vzc190b2tlbj17dG9rZW59Jyxjb29raWVzPXsnY29va2llJzogY29rfSkuanNvbigpDQoJCWZvciBwaSBpbiBrb2gyWydsaWtlcyddWydkYXRhJ106DQoJCQl0cnk6DQoJCQkgICAgaWQuYXBwZW5kKHBpWydpZCddKyd8JytwaVsnbmFtZSddKQ0KCQkJICAgIHN5cy5zdGRvdXQud3JpdGUoZiJcciB7SH3igKIge1B9IG1lbmd1bXB1bGthbiB7SH17bGVuKGlkKX17UH0gaWQuLi4iKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCgkJCSAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCgkJCWV4Y2VwdDpjb250aW51ZQ0KCQlwcmludCgnXHInKSANCgkJcHJpbnQoUGFuZWwoZiJ7UDJ9YmVyaGFzaWwgbWVuZ3VtcHVsa2FuIHtjb2xvcl9yaWNofXtsZW4oaWQpfXtQMn0gaWQiLHdpZHRoPTgwLHBhZGRpbmc9KDAsMjIpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKQ0KCQlzZXR0aW5nKCkNCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQoJCXByaW50KGYiIHtIMn3igKIge1AyfSBrb25la3NpIGludGVybmV0IGFuZGEgYmVybWFzYWxhaCIpDQoJCXRpbWUuc2xlZXAoMyk7ZXhpdCgpDQoJZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToNCgkJcHJpbnQoZiIge0gyfeKAoiB7UDJ9IGdhZ2FsIGR1bXAgaWQsIGtlbXVuZ2tpbmFuIGFrdW4gcHJpdmF0ZSIpDQoJCXRpbWUuc2xlZXAoMyk7ZXhpdCgpDQoNCiMjIy0tLS0tLS0tLS1bIFNFVFRJTkcgVVJVVEFOIElEICYgTUVUT0RFIF0tLS0tLS0tLS0tICMjIw0KZGVmIHNldHRpbmcoKToNCglwcmludCgnJykNCglwcmludHMoZicwMXtQMn0uIGNyYWNrIGRhcmkgaWQgb2xkJykNCglwcmludHMoZicwMntQMn0uIGNyYWNrIGRhcmkgaWQgbmV3JykNCglwcmludHMoZicwM3tQMn0uIGNyYWNrIGRhcmkgaWQgcmFuZG9tJykNCglodSA9IGNvbnNvbGUuaW5wdXQoZiIge0gyfeKAoiB7UDJ9IGNyYWNrIGRhcmkgaWQgPyA6ICIpDQoJcHJpbnQoJycpDQoJaWYgaHUgaW4gWycxJywnMDEnXToNCgkJZm9yIHR1YSBpbiBzb3J0ZWQoaWQpOg0KCQkJaWQyLmFwcGVuZCh0dWEpDQoJZWxpZiBodSBpbiBbJzInLCcwMiddOg0KCQltdWRhPVtdDQoJCWZvciBiYWNvdCBpbiBzb3J0ZWQoaWQpOg0KCQkJbXVkYS5hcHBlbmQoYmFjb3QpDQoJCWJjbT1sZW4obXVkYSkNCgkJYmNtaT0oYmNtLTEpDQoJCWZvciB4bXVkIGluIHJhbmdlKGJjbSk6DQoJCQlpZDIuYXBwZW5kKG11ZGFbYmNtaV0pDQoJCQliY21pIC09MQ0KCWVsaWYgaHUgaW4gWyczJywnMDMnXToNCgkJZm9yIGJhY290IGluIGlkOg0KCQkJeHggPSByYW5kb20ucmFuZGludCgwLGxlbihpZDIpKQ0KCQkJaWQyLmluc2VydCh4eCxiYWNvdCkNCgllbHNlOg0KCQlwcmludChmJyB7SDJ94oCiIHtQMn0gcGlsaWggeWFuZyBiZW5lcicpDQoJCXRpbWUuc2xlZXAoMyk7c2V0dGluZygpDQoJCXByaW50KCcnKQ0KCXByaW50cyhmJzAxLiBtZXRvZGUge08yfUItZ3JhcGh7SDJ9IHJlY29tbWVuZHtQMn1cbjAyLiBtZXRvZGUge08yfUItR3JhcGh7QjJ9IHYye1AyfSB7SDJ9cmVjb21tZW5ke1AyfVxuMDMuIG1ldG9kZSB7TzJ9bS5mYWNlYm9vay5jb20ge0IyfSBWYWxpZGF0ZXtQMn0ge0gyfXJlY29tbWVuZHtQMn0nKQ0KCWhjID0gY29uc29sZS5pbnB1dChmIntIMn3igKIge1AyfSBwaWxpaCBtZXRvZGUgOiAiKQ0KCXByaW50KCcnKQ0KCWlmIGhjIGluIFsnMScsJzAxJ106DQoJCW1ldGhvZC5hcHBlbmQoJ0FwaScpDQoJZWxpZiBoYyBpbiBbJzInLCcwMiddOg0KCQltZXRob2QuYXBwZW5kKCdhcGlrdXYyJykNCgllbGlmIGhjIGluIFsnMycsJzAzJ106DQoJCW1ldGhvZC5hcHBlbmQoJ2NyYWNrJykNCgllbHNlOg0KCQlwcmludChmIiB7SDJ94oCiIHtQMn0gcGlsaWggbWV0b2RlIGRlbmdhbiBiZW5hciAiKQ0KCQl0aW1lLnNsZWVwKDMpO3NldHRpbmcoKQ0KCQlwcmludCgnJykNCglwcmludHMoZiJ7UDJ9e0gyfTAxe1AyfS4gc2V0dGluZyBwYXNzd29yZCBnYWJ1bmdhblxue1AyfXtIMn0wMntQMn0uIHNldHRpbmcgcGFzc3dvcmQgb3RvbWF0aXNcbntQMn17SDJ9MDN7UDJ9LiBzZXR0aW5nIHBhc3N3b3JkIG1hbnVhbCIpDQoJaGMgPSBjb25zb2xlLmlucHV0KGYie0gyfeKAoiB7UDJ9IHBpbGloIHBhc3N3b3JkIDogIikNCglwcmludCgnJykNCglpZiBoYyBpbiBbJyddOg0KCSAgcHJpbnQoZiJ7SDJ94oCiIHtQMn0gdGVyamFkaSBrZXNhbGFoYW4gIikNCgkgIHNldHRpbmcoKQ0KCWVsaWYgaGMgaW4gWycxJywnMDEnXToNCgkJb3RvbWF0aXMoKQ0KCWVsaWYgaGMgaW4gWycyJywnMDInXToNCgkJVGFtYmFoYW4oKQ0KCWVsaWYgaGMgaW4gWyczJywnMDMnXToNCgkJTWFudWFsKCkNCg0KIyMjLS0tLS0tLS0tLVsgUEFTU1dPUkQgREVGQVVMVCBdLS0tLS0tLS0tLSAjIyMNCmRlZiBvdG9tYXRpcygpOg0KCXByaW50cyhmJzAxLiBwYXNzd29yZCBuYW1hXG4wMi4gcGFzc3dvcmQgbmFtYSsxMjNcbjAzLiBwYXNzd29yZCBuYW1hKzEyMysxMjM0NVxuMDQuIHBhc3N3b3JkIG5hbWErMTIzKzEyMzQrMTIzNDVcbjA1LiBwYXNzd29yZCBuYW1hKzEyMysxMjM0KzEyMzQ1KzEyMzQ1NlxuMDYuIHBhc3N3b3JkIG5hbWErMzIxKzEyMzQnKQ0KCXB3bGlzID0gY29uc29sZS5pbnB1dChmIntIMn3igKIge1AyfSBwaWxpaCBwYXNzd29yZCA6ICIpDQoJcHJpbnQoJycpDQoJcHdsaXN0LmFwcGVuZChwd2xpcykNCgl1YSA9IGNvbnNvbGUuaW5wdXQoZiJ7SDJ94oCiIHtQMn0gaW5naW4gbWVuZ2d1bmFrYW4gdXNlcmFnZW50IHRhbWJhaGFuPyAoWS90KSA6ICIpDQoJaWYgdWEgaW4gWyd5JywnWWEnLCd5YScsJ1knXToNCgkJdWFkYXJpbXUuYXBwZW5kKCd1YWRpYScpO2J6ID0gY29uc29sZS5pbnB1dChmIntIMn3igKIge1AyfSBtYXN1a2FuIHVzZXJhZ2VudCA6ICIpO3VhZGlhLmFwcGVuZChieikNCgkJcHJpbnQoUGFuZWwoZiJ7SDJ9e2J6fXtyZXNldH0iLHdpZHRoPTgwLHRpdGxlPWYie0gyfXVzZXJhZ2VudCIsc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJaWYgdWEgaW4gWyd0JywnVCddOg0KCQlwcmludCgnJykNCgllbHNlOnVhZGFyaW11LmFwcGVuZCgndWFzYycpDQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJZ2xvYmFsIHByb2csZGVzDQoJYmFubmVyKCkNCglwcmludHMoZiIiIg0Ke1AyfS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiBBdXRob3IgICAgOiBGYWphcg0KIFRvb2wgTmFtZSA6IFZJTklYDQogVmVyc2lvbiAgIDogMS4wDQp7UDJ9LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIFRvdGFsIGFjY291bnQgOiB7bGVuKGlkKX17UDJ9IHtKMn0+e0gyfT57UDJ9IE1ldGhvZCB7SjJ9LT57UDJ9IE0yDQoge0oyfVVzZSBmbGlnaHQgbW9kZSBmb3Igc3BlZWQgdXB7UDJ9DQp7UDJ9LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIiIikNCgkjcHJpbnRzKGYie1AyfXNhYXQgaW5pIGFuZGEgbWVuZ2d1bmFrYW4gdXNlciBhZ2VudCBiYXdhYW4gZGFyaSBzY3JpcHQgVk1CRiIpDQoJcHJvZyA9IFByb2dyZXNzKFRleHRDb2x1bW4oJ3t0YXNrLmRlc2NyaXB0aW9ufScpLFRleHRDb2x1bW4oJ3t0YXNrLnBlcmNlbnRhZ2U6LjBmfSUnKSkNCglkZXMgPSBwcm9nLmFkZF90YXNrKCcnLHRvdGFsPWxlbihpZDIpKQ0KCXdpdGggcHJvZzoNCgkJd2l0aCB0cmVkKG1heF93b3JrZXJzPTMwKSBhcyBwb29sOg0KCQkJZm9yIHl1em9uZyBpbiBpZDI6DQoJCQkJaWRmLG5tZiA9IHl1em9uZy5zcGxpdCgnfCcpWzBdLHl1em9uZy5zcGxpdCgnfCcpWzFdLmxvd2VyKCkNCgkJCQlmcnMgPSBubWYuc3BsaXQoJyAnKVswXQ0KCQkJCWlmICcxJyBpbiBwd2xpc3Q6DQoJCQkJCXB3dj1bbm1mXQ0KCQkJCWlmICcyJyBpbiBwd2xpc3Q6DQoJCQkJCXB3dj1bbm1mLGZycysnMTIzJ10NCgkJCQlpZiAnMycgaW4gcHdsaXN0Og0KCQkJCQlwd3Y9W25tZixmcnMrJzEyMycsZnJzKycxMjM0NSddDQoJCQkJaWYgJzQnIGluIHB3bGlzdDoNCgkJCQkJcHd2PVtubWYsZnJzKycxMjMnLGZycysnMTIzNCcsZnJzKycxMjM0NSddDQoJCQkJaWYgJzUnIGluIHB3bGlzdDoNCgkJCQkJcHd2PVtubWYsZnJzKycxMjMnLGZycysnMTIzNCcsZnJzKycxMjM0NScsZnJzKycxMjM0NTYnXQ0KCQkJCWlmICc2JyBpbiBwd2xpc3Q6DQoJCQkJCXB3dj1bbm1mLGZycysnMzIxJyxmcnMrJzEyMzQnXQ0KCQkJCWVsc2U6cGFzcw0KCQkJCWlmICdBcGknIGluIG1ldGhvZDoNCgkJCQkJcG9vbC5zdWJtaXQoQXBpLGlkZixwd3YpDQoJCQkJZWxpZiAnYXBpa3V2MicgaW4gbWV0aG9kOiANCgkJCQkJcG9vbC5zdWJtaXQoYXBpa3V2MixpZGYscHd2KQ0KCQkJCWVsaWYgJ2NyYWNrJyBpbiBtZXRob2Q6IA0KCQkJCQlwb29sLnN1Ym1pdChjcmFjayxpZGYscHd2KQ0KCQkJCWVsc2U6DQoJCQkJCXBvb2wuc3VibWl0KG1ldG9kZV9hcGksaWRmLHB3dikNCgkJZXhpdCgiXG5jcmFja2luZyBkb25lISIpDQoJCSNwcmludChQYW5lbChmJ3tQMn1zdWtzZXMgY3JhY2tlZCB7SDJ9e2xlbihpZDIpfVt3aGl0ZV0gaWQsIGRlbmdhbiBqdW1sYWggaGFzaWwgT0sgOiB7SDJ9e29rfSB7UDJ9Q1AgOiB7SzJ9e2NwfXtyZXNldH0nLHdpZHRoPTgwLHBhZGRpbmc9KDAsOCksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJCSN0aW1lLnNsZWVwKDMpO2V4aXQoKQ0KDQojIyMtLS0tLS0tLS0tWyBQQVNTV09SRCBHQUJVTkcgXS0tLS0tLS0tLS0gIyMjDQpkZWYgVGFtYmFoYW4oKToNCgkjcHJpbnRzKGYnMDEuIHBhc3N3b3JkIG5hbWFcbjAyLiBwYXNzd29yZCBuYW1hKzEyM1xuMDMuIHBhc3N3b3JkIG5hbWErMTIzKzEyMzQ1XG4wNC4gcGFzc3dvcmQgbmFtYSsxMjMrMTIzNCsxMjM0NVxuMDUuIHBhc3N3b3JkIG5hbWErMTIzKzEyMzQrMTIzNDUrMTIzNDU2XG4wNi4gcGFzc3dvcmQgbmFtYSszMjErMTIzNCcpDQoJcHdsaXMgPSBjb25zb2xlLmlucHV0KGYie0gyfeKAoiB7UDJ9IGluZ2luIG1lbGFuanV0a2FuIGNyYWNrPyAoeS90KSA6ICIpDQoJcHdsaXN0LmFwcGVuZChwd2xpcykNCglwcmludHMoZiIiIg0Ke1AyfS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiBoYXNpbCB7SDJ9e29rY317UDJ9DQogaGFzaWwge0oyfXtjcGN9e1AyfQ0KIHtQMn0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoge0oyfVVzZSBmbGlnaHQgbW9kZSBmb3Igc3BlZWQgdXB7UDJ9DQp7UDJ9LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIiIikNCgkjb3Muc3lzdGVtKCdjbGVhcicpDQoJZ2xvYmFsIHByb2csZGVzDQoJcHJvZyA9IFByb2dyZXNzKFRleHRDb2x1bW4oJ3t0YXNrLmRlc2NyaXB0aW9ufScpLFRleHRDb2x1bW4oJ3t0YXNrLnBlcmNlbnRhZ2U6LjBmfSUnKSxUaW1lRWxhcHNlZENvbHVtbigpKQ0KCWRlcyA9IHByb2cuYWRkX3Rhc2soJycsdG90YWw9bGVuKGlkMikpDQoJd2l0aCBwcm9nOg0KCQl3aXRoIHRyZWQobWF4X3dvcmtlcnM9MzApIGFzIHBvb2w6DQoJCQlmb3IgeXV6b25nIGluIGlkMjoNCgkJCQlpZGYsbm1mID0geXV6b25nLnNwbGl0KCd8JylbMF0seXV6b25nLnNwbGl0KCd8JylbMV0ubG93ZXIoKQ0KCQkJCWZycyA9IG5tZi5zcGxpdCgnICcpWzBdDQoJCQkJaWYgJzEnIGluIHB3bGlzdDoNCgkJCQkJcHd2PVtubWZdDQoJCQkJaWYgJzInIGluIHB3bGlzdDoNCgkJCQkJcHd2PVtubWYsZnJzKycxMjMnXQ0KCQkJCWlmICczJyBpbiBwd2xpc3Q6DQoJCQkJCXB3dj1bbm1mLGZycysnMTIzJyxmcnMrJzEyMzQ1J10NCgkJCQlpZiAnNCcgaW4gcHdsaXN0Og0KCQkJCQlwd3Y9W25tZixmcnMrJzEyMycsZnJzKycxMjM0JyxmcnMrJzEyMzQ1J10NCgkJCQlpZiAnNScgaW4gcHdsaXN0Og0KCQkJCQlwd3Y9W25tZixmcnMrJzEyMycsZnJzKycxMjM0JyxmcnMrJzEyMzQ1JyxmcnMrJzEyMzQ1NiddDQoJCQkJaWYgJ3knIGluIHB3bGlzdDoNCgkJCQkJcHd2PVtubWYsZnJzKycxMjMnLGZycysnMTIzNCcsZnJzKycxMjM0NScsZnJzKyczMjEnLGZycysnMTIzNDU2J10NCgkJCQlmb3IgeHB3ZCBpbiBwd255YToNCgkJCQkJcHd2LmFwcGVuZCh4cHdkKQ0KCQkJCWlmICdBcGknIGluIG1ldGhvZDoNCgkJCQkJcG9vbC5zdWJtaXQoQXBpLGlkZixwd3YpDQoJCQkJZWxpZiAnYXBpa3V2MicgaW4gbWV0aG9kOiANCgkJCQkJcG9vbC5zdWJtaXQoYXBpa3V2MixpZGYscHd2KQ0KCQkJCWVsaWYgJ2NyYWNrJyBpbiBtZXRob2Q6IA0KCQkJCQlwb29sLnN1Ym1pdChjcmFjayxpZGYscHd2KQ0KCQkJCWVsc2U6DQoJCQkJCXBvb2wuc3VibWl0KG1ldG9kZV9hcGksaWRmLHB3dikNCgkJcHJpbnQoUGFuZWwoZid7UDJ9c3Vrc2VzIGNyYWNrZWQge0gyfXtsZW4oaWQyKX1bd2hpdGVdIGlkLCBkZW5nYW4ganVtbGFoIGhhc2lsIE9LIDoge0gyfXtva30ge1AyfUNQIDoge0syfXtjcH17cmVzZXR9Jyx3aWR0aD04MCxwYWRkaW5nPSgwLDgpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKQ0KCQl0aW1lLnNsZWVwKDMpO2V4aXQoKQ0KDQojIyMtLS0tLS0tLS0tWyBQQVNTV09SRCBNQU5VQUwgXS0tLS0tLS0tLS0gIyMjDQpkZWYgTWFudWFsKCk6DQoJcHJpbnQoUGFuZWwoZiJ7UDJ9Z3VuYWthbiB0YW5kYSBrb21hICh7Y29sb3JfcmljaH0se1AyfSkgdW50dWsgcGVtaXNhaCBwYXNzd29yZCB5YW5nIGFuZGEgaW5wdXR7cmVzZXR9Iix3aWR0aD04MCxwYWRkaW5nPSgwLDUpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKQ0KCXB3a3UgPSBjb25zb2xlLmlucHV0KGYiIHtIMn3igKIge1AyfSBtYXN1a2FuIHBhc3N3b3JkIHRhbWJhaGFuIDogIikNCglwd2t1aCA9IHB3a3Uuc3BsaXQoJywnKQ0KCWZvciB4cHcgaW4gcHdrdWg6DQoJCXB3bnlhLmFwcGVuZCh4cHcpDQoJdWEgPSBjb25zb2xlLmlucHV0KGYiIHtIMn3igKIge1AyfSBpbmdpbiBtZW5nZ3VuYWthbiB1c2VyYWdlbnQgdGFtYmFoYW4/IChZL3QpIDogIikNCglpZiB1YSBpbiBbJ3knLCdZYScsJ3lhJywnWSddOg0KCQl1YWRhcmltdS5hcHBlbmQoJ3VhZGlhJyk7YnogPSBjb25zb2xlLmlucHV0KGYiIHtIMn3igKIge1AyfSBtYXN1a2FuIHVzZXJhZ2VudCA6ICIpO3VhZGlhLmFwcGVuZChieikNCgkJcHJpbnQoUGFuZWwoZiJ7SDJ9e2J6fXtyZXNldH0iLHdpZHRoPTgwLHRpdGxlPWYie0gyfXVzZXJhZ2VudCIsc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJaWYgdWEgaW4gWyd0JywnVCcsJ1RpZGFrJ106DQoJCXByaW50KFBhbmVsKGYie1AyfXNhYXQgaW5pIGFuZGEgbWVuZ2d1bmFrYW4gdXNlciBhZ2VudCBiYXdhYW4gZGFyaSBzY3JpcHQgTUJGIix3aWR0aD04MCxwYWRkaW5nPSgwLDgpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKQ0KCWVsc2U6dWFkYXJpbXUuYXBwZW5kKCd1YXNjJykNCgl1cnV0ID0gW10NCgl1cnV0LmFwcGVuZChQYW5lbChmJ3tQMn1oYXNpbCB7SDJ9e29rY30nLHdpZHRoPTM5LHBhZGRpbmc9KDAsMyksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJdXJ1dC5hcHBlbmQoUGFuZWwoZid7UDJ9aGFzaWwge0syfXtjcGN9Jyx3aWR0aD0zOSxwYWRkaW5nPSgwLDMpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKQ0KCWNvbnNvbGUucHJpbnQoQ29sdW1ucyh1cnV0KSkNCglwcmludChQYW5lbChmIntQMn1tYWlua2FuIG1vZGUgcGVzYXdhdCB7Y29sb3JfcmljaH0xMCBbd2hpdGVdZGV0aWsgamlrYSB0aWRhayBtZW5kYXBhdGthbiBoYXNpbCBzYW1hIHNla2FsaSIsd2lkdGg9ODAscGFkZGluZz0oMCwzKSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCglnbG9iYWwgcHJvZyxkZXMNCglwcm9nID0gUHJvZ3Jlc3MoU3Bpbm5lckNvbHVtbignZWFydGgnKSxUZXh0Q29sdW1uKCd7dGFzay5kZXNjcmlwdGlvbn0nKSxCYXJDb2x1bW4oKSxUZXh0Q29sdW1uKCd7dGFzay5wZXJjZW50YWdlOi4wZn0lJyksVGltZUVsYXBzZWRDb2x1bW4oKSkNCglkZXMgPSBwcm9nLmFkZF90YXNrKCcnLHRvdGFsPWxlbihpZDIpKQ0KCXdpdGggcHJvZzoNCgkJd2l0aCB0cmVkKG1heF93b3JrZXJzPTMwKSBhcyBwb29sOg0KCQkJZm9yIHl1em9uZyBpbiBpZDI6DQoJCQkJaWRmLG5tZiA9IHl1em9uZy5zcGxpdCgnfCcpWzBdLHl1em9uZy5zcGxpdCgnfCcpWzFdLmxvd2VyKCkNCgkJCQlwd3YgPSBbXQ0KCQkJCWZvciB4cHdkIGluIHB3bnlhOg0KCQkJCQlwd3YuYXBwZW5kKHhwd2QpDQoJCQkJaWYgJ0FwaScgaW4gbWV0aG9kOg0KCQkJCQlwb29sLnN1Ym1pdChBcGksaWRmLHB3dikNCgkJCQllbGlmICdhcGlrdXYyJyBpbiBtZXRob2Q6IA0KCQkJCQlwb29sLnN1Ym1pdChhcGlrdXYyLGlkZixwd3YpDQoJCQkJZWxzZToNCgkJCQkJcG9vbC5zdWJtaXQobWV0b2RlX2FwaSxpZGYscHd2KQ0KCQlwcmludChQYW5lbChmJ3tQMn1zdWtzZXMgY3JhY2tlZCB7SDJ9e2xlbihpZDIpfVt3aGl0ZV0gaWQsIGRlbmdhbiBqdW1sYWggaGFzaWwgT0sgOiB7SDJ9e29rfSB7UDJ9Q1AgOiB7SzJ9e2NwfXtyZXNldH0nLHdpZHRoPTgwLHBhZGRpbmc9KDAsOCksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJCXRpbWUuc2xlZXAoMyk7ZXhpdCgpDQoNCiMjIy0tLS0tLS0tLS1bIENPTlZFUlQgQ09PS0lFIF0tLS0tLS0tLS0tICMjIw0KZGVmIGNvbnZlcnQoY29va2llKToNCiAgICAgICAgY29raTIgPSAoJ2RhdHI9JXM7c2I9JXM7Y191c2VyPSVzO3hzPSVzO2ZyPSVzJyUoY29va2llWydkYXRyJ10sY29va2llWydzYiddLGNvb2tpZVsnY191c2VyJ10sY29va2llWyd4cyddLGNvb2tpZVsnZnInXSkpDQogICAgICAgIHJldHVybihzdHIoY29raSkpDQoNCmRlZiByYW4oKToNCiAgICByZXR1cm4gc3RyKHRvZCgpKS5zcGxpdCgnLicpWzBdDQoNCg0KIyMjLS0tLS0tLS0tLVsgTUVUT0RFIEdSQVBIIF0tLS0tLS0tLS0tICMjIw0KZGVmIEFwaShpZGYscHd2KToNCglnbG9iYWwgbG9vcCxvayxjcA0KCXByb2cudXBkYXRlKGRlcyxkZXNjcmlwdGlvbj1mIntIMn3igKIgQi1ncmFwaCB7UDJ9e3N0cihsb29wKX18T0stLT57SDJ9e09rfXtQMn0iKQ0KCXByb2cuYWR2YW5jZShkZXMpDQoJdWEgPSBuYXJ1dG8oKQ0KCSN1YTIgPSBGYWphcl9VZ2VudCgpDQoJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpDQoJZm9yIHB3IGluIHB3djoNCgkJdHJ5Og0KCQkJeWtoID0gcmFuZG9tLnJhbmRpbnQoMmU3LCAzZTcpDQoJCQlpeWggPSByYW5kb20ucmFuZGludCgyZTQsIDRlNCkNCgkJCXBhcmFtcyA9IHsNCgkJCQkJImFjY2Vzc190b2tlbiI6ICI2NjI4NTY4Mzc5fGMxZTYyMGZhNzA4YTFkNTY5NmZiOTkxYzFiZGU1NjYyIiwNCgkJCQkJInNka192ZXJzaW9uIjogZiJ7cmFuZG9tLnJhbmRpbnQoMSwyNil9IiwgDQoJCQkJCSJlbWFpbCI6IGlkZiwNCgkJCQkJImxvY2FsZSI6ICJlbl9VUyIsDQoJCQkJCSJwYXNzd29yZCI6IHB3LA0KCQkJCQkic2RrIjogImFuZHJvaWQiLA0KCQkJCQkiZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzIjogIjEiLA0KCQkJCQkic2lnIjogIjRmNjQ4ZjIxZmI1OGZjZDJhYTFjNjVmMzVmNDQxZWY1Ig0KCQkJCX0NCgkJCWhlYWRlcnMgPSB7DQoJCQkJCSJIb3N0IjogImdyYXBoLmZhY2Vib29rLmNvbSIsDQoJCQkJCSJ4LWZiLWNvbm5lY3Rpb24tYmFuZHdpZHRoIjogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwMDAwLCAzMDAwMDAwMCkpLA0KCQkJCQkieC1mYi1zaW0taG5pIjogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLA0KCQkJCQkieC1mYi1uZXQtaG5pIjogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLA0KCQkJCQkieC1mYi1jb25uZWN0aW9uLXF1YWxpdHkiOiAiRVhDRUxMRU5UIiwNCgkJCQkJInVzZXItYWdlbnQiOiB1YSwNCgkJCQkJImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLA0KCQkJCQkieC1mYi1odHRwLWVuZ2luZSI6ICJMaWdlciINCgkJCQl9DQoJCQlwb3N0ID0gc2VzLnBvc3QoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL2F1dGgvbG9naW4iLHBhcmFtcz1wYXJhbXMsIGhlYWRlcnM9aGVhZGVycywgYWxsb3dfcmVkaXJlY3RzPUZhbHNlKQ0KCQkJaWYgInNlc3Npb25fa2V5IiBpbiBwb3N0LnRleHQgYW5kICJFQUEiIGluIHBvc3QudGV4dDoNCgkJCQlvays9MQ0KCQkJCXByaW50cyhmIntIMn0gT0sge2lkZn18e3B3fSIpDQoJCQkJcmVxdWVzdHMucG9zdChmImh0dHBzOi8vYXBpLnRlbGVncmFtLm9yZy9ib3Q1ODQ0OTkwMTMyOkFBSDM5WUszWUlzZmppeE1YQW1wM2szeE5tdllpc2VNMDU4L3NlbmRNZXNzYWdlP2NoYXRfaWQ9NTU5NjQ2NjkyOCZ0ZXh0PXtpZGZ9fHtwd30iKS5qc29uKCkNCgkJCQlvcGVuKCdPSy8nK29rYywnYScpLndyaXRlKCIlc3wlc1xuIiUoaWRmLHB3KSkNCgkJCQlvay5hcHBlbmQoaWRmKQ0KCQkJCWJyZWFrDQoJCQllbGlmICJVc2VyIG11c3QgdmVyaWZ5IHRoZWlyIGFjY291bnQiIGluIHBvc3QudGV4dDoNCgkJCQljcCs9MQ0KCQkJCXByaW50cyhmIntNMn0gQ1Age2lkZn18e3B3fSIpDQoJCQkJb3BlbignQ1AvJytjcGMsJ2EnKS53cml0ZSgiJXN8JXNcbiIlKGlkZixwdykpDQoJCQkJY3AuYXBwZW5kKGlkZikNCgkJCQlicmVhaw0KCQkJZWxzZToNCgkJCQljb250aW51ZQ0KCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQoJCQlwcm9nLnVwZGF0ZShkZXMsZGVzY3JpcHRpb249ZiJ7TTJ94oCiIENPTk5FQ1RJT04ge00yfXtzdHIobG9vcCl9fE9LLS0+e00yfXtva317TTJ9IikNCgkJCXByb2cuYWR2YW5jZShkZXMpDQoJCQl0aW1lLnNsZWVwKDMxKQ0KCWxvb3ArPTENCiMjIy0tLS0tLS0tLS1bIE1FVE9ERSBBUElWMiBdLS0tLS0tLS0tLSAjIyMNCmRlZiBhcGlrdXYyKGlkZixwd3YpOg0KCWdsb2JhbCBsb29wLG9rLGNwDQoJcHJvZy51cGRhdGUoZGVzLGRlc2NyaXB0aW9uPWYie0gyfSDigKIgR3JhcGgge1AyfXtzdHIobG9vcCl9fE9LLT57SDJ9e29rfXtQMn0iKQ0KCXByb2cuYWR2YW5jZShkZXMpDQoJdWEgPSBVc2VyQWdlbnRCYXNlKCkNCgkjdWEgPSByYW5kb20uY2hvaWNlKHVnZW50KQ0KCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KCWZvciBwdyBpbiBwd3Y6DQoJCXRyeToNCgkJCXlraCA9IHJhbmRvbS5yYW5kaW50KDJlNywgM2U3KQ0KCQkJaXloID0gcmFuZG9tLnJhbmRpbnQoMmU0LCA0ZTQpDQoJCQloZWFkZXJzID0gew0KCQkJIkhvc3QiOiAiZ3JhcGguZmFjZWJvb2suY29tIiwNCgkJCSJ4LWZiLWNvbm5lY3Rpb24tYmFuZHdpZHRoIjogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwMDAwLCAzMDAwMDAwMCkpLA0KCQkJIngtZmItc2ltLWhuaSI6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwgDQoJCQkieC1mYi1uZXQtaG5pIjogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLCANCgkJCSJ4LWZiLWNvbm5lY3Rpb24tcXVhbGl0eSI6ICJHT09EIiwgDQoJCQkieC1mYi1jb25uZWN0aW9uLXR5cGUiOiAibW9iaWxlLkNUUmFkaW9BY2Nlc3NUZWNobm9sb2d5TFRFIiwNCgkJCSJ1c2VyLWFnZW50IjogdWEsIA0KCQkJImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCANCgkJCSJhY2NlcHQtZW5jb2RpbmciOiAiZ3ppcCwgZGVmbGF0ZSIsDQoJCQkieC1mYi1odHRwLWVuZ2luZSI6ICJMaWdlciINCgkJCX0NCgkJCXBhcmFtcyA9IHsNCgkJCSJhY2Nlc3NfdG9rZW4iOiAiMzUwNjg1NTMxNzI4fDYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyIiwNCgkJCSJmb3JtYXQiOiAiSlNPTiIsDQoJCQkic2RrX3ZlcnNpb24iOiB7cmFuZG9tLnJhbmRpbnQoMSwyNil9LCANCgkJCSJlbWFpbCI6aWRmLA0KCQkJImxvY2FsZSI6ICJlbl9VUyIsDQoJCQkicGFzc3dvcmQiOnB3LA0KCQkJInNkayI6ICJhbmRyb2lkIiwNCgkJCSJnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXMiOiAiMSIsDQoJCQkic2lnIjogIjYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyIg0KCQkJfQ0KCQkJeG54eCA9IHNlcy5wb3N0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9hdXRoL2xvZ2luIiwgcGFyYW1zID0gcGFyYW1zLCBoZWFkZXJzID0gaGVhZGVycywgYWxsb3dfcmVkaXJlY3RzPUZhbHNlKQ0KCQkJYW5qZyA9IGpzb24ubG9hZHMoeG54eC50ZXh0KQ0KCQkJaWYgInNlc3Npb25fa2V5IiBpbiB4bnh4LnRleHQ6DQoJCQkJb2srPTENCgkJCQljb2tpID0gYW5qZ1sic2Vzc2lvbl9jb29raWVzIl0NCgkJCQljb2sgPSB7fQ0KCQkJCWZvciB4IGluIGNva2k6DQoJCQkJCWNvay51cGRhdGUoe3hbIm5hbWUiXTp4WyJ2YWx1ZSJdfSkNCgkJCQlrdWtpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gY29rLml0ZW1zKCkgXSkNCgkJCQlpZGYgPSByZS5maW5kYWxsKCdjX3VzZXI9KC4qKTt4cycsIGt1a2kpWzBdDQoJCQkJI2t1a2lzID0ga3VraS5yZXBsYWNlKGYnZGF0cicsJ2NfdXNlcj0oLiopJykNCgkJCQlwcmludHMoZiJ7SDJ94oCiIE9LIHtpZGZ9fHtwd30iKQ0KCQkJCXJlcXVlc3RzLnBvc3QoZiJodHRwczovL2FwaS50ZWxlZ3JhbS5vcmcvYm90NTgwNzk4NjI4MDpBQUZ5TlhKeDg5SEw4bFpjREVaZG5wc2ZDRlBtd2p1SkdtWS9zZW5kTWVzc2FnZT9jaGF0X2lkPTU1OTY0NjY5MjgmdGV4dD17aWRmfXx7cHd9IikuanNvbigpDQoJCQkJb3BlbignT0svJytva2MsJ2EnKS53cml0ZSgiJXN8JXNcbiIlKGlkZixwdykpDQoJCQkJb2suYXBwZW5kKGlkZikNCgkJCQlicmVhaw0KCQkJZWxpZiAiY2hlY2twb2ludCIgaW4geG54eC50ZXh0Og0KCQkJCWNwKz0xDQoJCQkJcHJpbnRzKGYie00yfeKAoiBDUCB7aWRmfXx7cHd9IikNCgkJCQlvcGVuKCdDUC8nK2NwYywnYScpLndyaXRlKCIlc3wlc1xuIiUoaWRmLHB3KSkNCgkJCQljcC5hcHBlbmQoaWRmKQ0KCQkJCWJyZWFrCQkJCQ0KCQkJI2VsaWYgIkNhbGxzIHRvIHRoaXMgYXBpIGhhdmUgZXhjZWVkZWQgdGhlIHJhdGUgbGltaXQuICg2MTMpIiBpbiB4bnh4LnRleHQ6DQoJCQkJIyBwcm9nLnVwZGF0ZShkZXMsZGVzY3JpcHRpb249ZiJ7TTJ9Y3Jha2luZyB7UDJ9T0stOntIMn17b2t9IHtQMn1DUC06e0syfXtjcH0ge1AyfS0ge3N0cihsb29wKX0ve2xlbihpZDIpfSIpDQoJCQkJI3Byb2cuYWR2YW5jZShkZXMpDQoJCQkJI3RpbWUuc2xlZXAoMTApDQoJCQllbHNlOg0KCQkJCWNvbnRpbnVlDQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCgkJCSNwcm9nLnVwZGF0ZShkZXMsZGVzY3JpcHRpb249ZiJ7TTJ94oCiIFNQQU0ge00yfU9LIDp7TTJ9e29rfSB7TTJ9Q1AgOntNMn17Y3B9IHtNMn17c3RyKGxvb3ApfS97bGVuKGlkMil9IFt7bW19e1AyfV0iKQ0KCQkJI3Byb2cuYWR2YW5jZShkZXMpDQoJCQl0aW1lLnNsZWVwKDMxKQ0KCWxvb3ArPTENCg0KZGVmIGNyYWNrKGlkZixwd3YpOg0KCWdsb2JhbCBsb29wLG9rLGNwDQoJcHJvZy51cGRhdGUoZGVzLGRlc2NyaXB0aW9uPWYie0gyfSAtLS0+IFZhbGlkYXRlIHtQMn17c3RyKGxvb3ApfXxPSyAtLT4ge0gyfXtva317UDJ9IikNCglwcm9nLmFkdmFuY2UoZGVzKQ0KCXVhID0gcmFuZG9tLmNob2ljZSh1Z2VuKQ0KCSN1YTIgPSByYW5kb20uY2hvaWNlKHVnZW4yKQ0KCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KCWZvciBwdyBpbiBwd3Y6DQoJCXRyeToNCgkJCXAgPSBzZXMuZ2V0KCdodHRwczovL20uZmFjZWJvb2suY29tL2xvZ2luLnBocD9za2lwX2FwaV9sb2dpbj0xJmFwaV9rZXk9ODgyYTg0OTAzNjFkYTk4NzAyYmY5N2EwMjFkZGMxNGQmY2xpZW50X2NvdW50cnlfY29kZT1JRCZjcmVkZW50aWFsc190eXBlPXBhc3N3b3JkJmVtYWlsPWlkZiZlcnJvcl9kZXRhaWxfdHlwZT1idXR0b25fd2l0aF9kaXNhYmxlZCZmYl9hcGlfY2FsbGVyX2NsYXNzPWNvbS5mYWNlYm9vay5rYXRhbmEuc2VydmVyLmhhbmRsZXIuRmI0YUF1dGhIYW5kbGVyJmZiX2FwaV9yZXFfZnJpZW5kbHlfbmFtZT1hdXRoZW50aWNhdGUmZm9ybWF0PWpzb24mZ2VuZXJhdGVfbWFjaGluZV9pZD0xJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJmxvY2FsZT1pZF9JRCZtZXRob2Q9YXV0aC5sb2dpbiZwYXNzd29yZD1wdyU0MCZzaWc9MGYzM2IxOTEzOTBhYjIxMzA0Y2IxNzk5NmMxMTZkNGYmcnRpbWU9MTY3MDE3NDEzMyZzdWJub19rZXk9QWFHZUVyZmp4VEt4Z3dCSmJBWU9VWmx1b1BCV0paN2hLQ3ZiZDN6QlZBd1ZzN3FFUlNtc1lHVlNaa1hYOXNnWGN2N0h2cVRBbFN1XzFHSksycTRhYVZTb25fblBnaHhUUU9RTU1sM1NZcFE2N21UQ1ZRZkRQNnJqUmZ3ZlpFUE1HeFkxTFhVNVVtX0wxXzU0M3UtR05YSElqQXlzbmo4bndkR2dOU3dwN2V4dUhxM2lTMm5TY2tsMFo2RkdfX0ZCckhMWFFKRVFCX0VKM2R0Sm1UWTQ3MnVLSndNdlB3NHRpRDRpR0ctYzZ6V0NULWdObkdNZG82ZzRrU3p1ME1fMW5ERXJIaWlCTVJQS0V1LWVsRkVFYnI5ZUdSWVNySWRJYjRSRk9JT253cWVicWRDVE9NX2RIMElxUzV0REgtNTQ4bU0maHJjPTEmcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicpDQoJCQlkYXRhYSA9eyJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKHAudGV4dCkpLmdyb3VwKDEpLCJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksInVpZCI6aWRmLCJuZXh0IjoiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS92Mi4zL2RpYWxvZy9vYXV0aD9hcHBfaWQ9MTI0MDI0NTc0Mjg3NDE0JmNidD0xNjUxNjU4MjAwOTc4JmUyZT0lN0IlMjJpbml0JTIyJTNBMTY1MTY1ODIwMDk3OCU3RCZzc289Y2hyb21lX2N1c3RvbV90YWImc2NvcGU9ZW1haWwmc3RhdGU9JTdCJTIyMF9hdXRoX2xvZ2dlcl9pZCUyMiUzQSUyMjY4ZjE1YmFlLTIzZjgtNDYzYy04NjYwLTVjZjEyMjZkOTdmNiUyMiUyQyUyMjdfY2hhbGxlbmdlJTIyJTNBJTIyZGFoajI4aHF0aWV0bWhyZ3BycHAlMjIlMkMlMjIzX21ldGhvZCUyMiUzQSUyMmN1c3RvbV90YWIlMjIlN0QmcmVkaXJlY3RfdXJpPWZiY29ubmVjdCUzQSUyRiUyRmNjdC5jb20uaW5zdGF0aHVuZGVyLmFwcCZyZXNwb25zZV90eXBlPXRva2VuJTJDc2lnbmVkX3JlcXVlc3QlMkNncmFwaF9kb21haW4lMkNncmFudGVkX3Njb3BlcyZyZXR1cm5fc2NvcGVzPXRydWUmcmV0PWxvZ2luJmZiYXBwX3ByZXM9MCZsb2dnZXJfaWQ9NjhmMTViYWUtMjNmOC00NjNjLTg2NjAtNWNmMTIyNmQ5N2Y2JnRwPXVuc3BlY2lmaWVkIiwiZmxvdyI6ImxvZ2luX25vX3BpbiIsInBhc3MiOnB3LH0NCgkJCWtva2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBwLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pDQoJCQlrb2tpKz0nIG1fcGl4ZWxfcmF0aW89Mi42MjU7IHdkPTQxMng3NTYnDQoJCQloZWFkZT17J0hvc3QnOiAnbS5mYWNlYm9vay5jb20nLCdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsJ3NlYy1jaC11YSc6ICciQ2hyb21pdW0iO3Y9IjEwNyIsICJOb3Q9QT9CcmFuZCI7dj0iMjQiJywnc2VjLWNoLXVhLW1vYmlsZSc6ICc/MScsJ3NlYy1jaC11YS1wbGF0Zm9ybSc6ICdBbmRyb2lkJywndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywndXNlci1hZ2VudCc6dWEsJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjknLCdzZWMtZmV0Y2gtc2l0ZSc6ICdub25lJywnc2VjLWZldGNoLW1vZGUnOiAnbmF2aWdhdGUnLCdzZWMtZmV0Y2gtZGVzdCc6ICdkb2N1bWVudCcsJ3JlZmVyZXInOiAnaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9sb2dpbi5waHA/c2tpcF9hcGlfbG9naW49MSZhcGlfa2V5PTg4MmE4NDkwMzYxZGE5ODcwMmJmOTdhMDIxZGRjMTRkJmNsaWVudF9jb3VudHJ5X2NvZGU9SUQmY3JlZGVudGlhbHNfdHlwZT1wYXNzd29yZCZlbWFpbD1pZGYmZXJyb3JfZGV0YWlsX3R5cGU9YnV0dG9uX3dpdGhfZGlzYWJsZWQmZmJfYXBpX2NhbGxlcl9jbGFzcz1jb20uZmFjZWJvb2sua2F0YW5hLnNlcnZlci5oYW5kbGVyLkZiNGFBdXRoSGFuZGxlciZmYl9hcGlfcmVxX2ZyaWVuZGx5X25hbWU9YXV0aGVudGljYXRlJmZvcm1hdD1qc29uJmdlbmVyYXRlX21hY2hpbmVfaWQ9MSZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZsb2NhbGU9aWRfSUQmbWV0aG9kPWF1dGgubG9naW4mcGFzc3dvcmQ9cHclNDAmc2lnPTBmMzNiMTkxMzkwYWIyMTMwNGNiMTc5OTZjMTE2ZDRmJnJ0aW1lPTE2NzAxNzQxMzMmc3Vibm9fa2V5PUFhR2VFcmZqeFRLeGd3QkpiQVlPVVpsdW9QQldKWjdoS0N2YmQzekJWQXdWczdxRVJTbXNZR1ZTWmtYWDlzZ1hjdjdIdnFUQWxTdV8xR0pLMnE0YWFWU29uX25QZ2h4VFFPUU1NbDNTWXBRNjdtVENWUWZEUDZyalJmd2ZaRVBNR3hZMUxYVTVVbV9MMV81NDN1LUdOWEhJakF5c25qOG53ZEdnTlN3cDdleHVIcTNpUzJuU2NrbDBaNkZHX19GQnJITFhRSkVRQl9FSjNkdEptVFk0NzJ1S0p3TXZQdzR0aUQ0aUdHLWM2eldDVC1nTm5HTWRvNmc0a1N6dTBNXzFuREVySGlpQk1SUEtFdS1lbEZFRWJyOWVHUllTcklkSWI0UkZPSU9ud3FlYnFkQ1RPTV9kSDBJcVM1dERILTU0OG1NJmhyYz0xJnJlZnNyYz1kZXByZWNhdGVkJl9yZHInLCdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZSwgYnInLCdhY2NlcHQtbGFuZ3VhZ2UnOiAnaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnfQ0KCQkJcG8gPSBzZXMucG9zdCgnaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvcmVndWxhci9sb2dpbi8/YXBpX2tleT04ODJhODQ5MDM2MWRhOTg3MDJiZjk3YTAyMWRkYzE0ZCZhbXA7YXV0aF90b2tlbj01YjQ2OGQ1Y2Q3ODk3MjkwODE0NTg4YjM4OTMyMzFlOCZhbXA7c2tpcF9hcGlfbG9naW49MSZhbXA7cmVmc3JjPWRlcHJlY2F0ZWQmYW1wO2FwcF9pZD0zNTA2ODU1MzE3MjgmYW1wO2x3dj0xMDAmYW1wO2xvY2FsZTI9aWRfSUQmYW1wO3JlZmlkPTknLGRhdGE9ZGF0YWEsY29va2llcz17J2Nvb2tpZSc6IGtva2l9LGhlYWRlcnM9aGVhZGUsYWxsb3dfcmVkaXJlY3RzPUZhbHNlKQ0KCQkJaWYgJ2NfdXNlcicgaW4gcG8uY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCgkJCQlvays9MQ0KCQkJCWNva2k9cG8uY29va2llcy5nZXRfZGljdCgpDQoJCQkJY29raSA9ICI7Ii5qb2luKFtzdHIoeCkrJz0nK3N0cihpKSBmb3IgeCxpIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKV0pDQoJCQkJcHJpbnRzKGYn4pSU4pSA4pSAIHtIMn17aWRmfXx7cHd9XG57UDJ94pSU4pSA4pSAIHtIMn17Y29raX17UDJ9JykNCgkJCQlyZXF1ZXN0cy5wb3N0KGYiaHR0cHM6Ly9hcGkudGVsZWdyYW0ub3JnL2JvdDU4NDQ5OTAxMzI6QUFIMzlZSzNZSXNmaml4TVhBbXAzazN4Tm12WWlzZU0wNTgvc2VuZE1lc3NhZ2U/Y2hhdF9pZD01NTk2NDY2OTI4JnRleHQ9e2lkZn18e3B3fSIpLmpzb24oKQ0KCQkJCW9wZW4oJ09LLycrb2tjLCdhJykud3JpdGUoIiVzfCVzXG4iJShpZGYscHcpKQ0KCQkJCW9rLmFwcGVuZChpZGYpDQoJCQkJYnJlYWsNCgkJCWVsaWYgJ2NoZWNrcG9pbnQnIGluIHBvLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQoJCQkJY3ArPTENCgkJCQlwcmludHMoZifilJTilIDilIAge0oyfXtpZGZ9fHtwd31cbntQMn3ilJTilIDilIAge0oyfXt1YX17UDJ9JykNCgkJCQlvcGVuKCdDUC8nK2NwYywnYScpLndyaXRlKCIlc3wlc1xuIiUoaWRmLHB3KSkNCgkJCQljcC5hcHBlbmQoaWRmKQ0KCQkJCWJyZWFrCQkJCQ0KCQkJI2VsaWYgIkNhbGxzIHRvIHRoaXMgYXBpIGhhdmUgZXhjZWVkZWQgdGhlIHJhdGUgbGltaXQuICg2MTMpIiBpbiB4bnh4LnRleHQ6DQoJCQkJIyBwcm9nLnVwZGF0ZShkZXMsZGVzY3JpcHRpb249ZiJ7TTJ9Y3Jha2luZyB7UDJ9T0stOntIMn17b2t9IHtQMn1DUC06e0syfXtjcH0ge1AyfS0ge3N0cihsb29wKX0ve2xlbihpZDIpfSIpDQoJCQkJI3Byb2cuYWR2YW5jZShkZXMpDQoJCQkJI3RpbWUuc2xlZXAoMTApDQoJCQllbHNlOg0KCQkJCWNvbnRpbnVlDQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCgkJCSNwcm9nLnVwZGF0ZShkZXMsZGVzY3JpcHRpb249ZiJ7TTJ94oCiIFNQQU0ge00yfU9LIDp7TTJ9e29rfSB7TTJ9Q1AgOntNMn17Y3B9IHtNMn17c3RyKGxvb3ApfS97bGVuKGlkMil9IFt7bW19e1AyfV0iKQ0KCQkJI3Byb2cuYWR2YW5jZShkZXMpDQoJCQl0aW1lLnNsZWVwKDMxKQ0KCWxvb3ArPTENCg0KDQojIyMtLS0tLS0tLS0tWyBDRUsgTElTRU5TSSBdLS0tLS0tLS0tLSAjIyMNCmRlZiBrZXkoKToNCglvcy5zeXN0ZW0oImNsZWFyIik7YmFubmVyKCk7a2V5ID0gaW5wdXQoZiIge0t9I3tQfSBtYXN1a2FuIGxpc2Vuc2kgOiB7SH0iKQ0KCXRyeTpzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCk7YXN1ID0gc2VzLmdldCgiaHR0cHM6Ly9hcHAuY3J5cHRvbGVucy5pby9hcGkva2V5L0FjdGl2YXRlP3Rva2VuPT09JlByb2R1Y3RJZD0xODcyMCZLZXk9JXMmU2lnbj1UcnVlIiUoa2V5KSkuanNvbigpWydsaWNlbnNlS2V5J11bJ2tleSddO29wZW4oImRhdGEvbGlzZW5zaS50eHQiLCJ3Iikud3JpdGUoa2V5KTtwcmludChQYW5lbChmIntQMn1zZWxhbWF0IGxpc2Vuc2kgeWFuZyBhbmRhIG1hc3VrYW4gdGVyZGFmdGFyIGtlIHNlcnZlciBGYWNlYm9vayBWTUJGIix3aWR0aD04MCxwYWRkaW5nPSgwLDYpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKTt0aW1lLnNsZWVwKDQpO21lbnUoKQ0KCWV4Y2VwdCBLZXlFcnJvcjoNCgkJcHJpbnQoUGFuZWwoZiJ7UDJ9bGlzZW5zaSBrYW11IHN1ZGFoIGtlZGFsdXdhcnNhIHNpbGFoa2FuIGJlbGkgbGlzZW5zaSBrZSBhZG1pbiIsd2lkdGg9ODAscGFkZGluZz0oMCw2KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSk7b3Muc3lzdGVtKCJybSAtcmYgZGF0YS9saXNlbnNpLnR4dCIpO29zLnN5c3RlbSgieGRnLW9wZW4gaHR0cHM6Ly93YS5tZS8rNjI4NTg5NDg0MTY5NT90ZXh0PWFzc2FsYW11YWxhaWt1bStiYW5nK21hdStiZWxpK2xpc2Vuc2krY3JhY2srRmFjZWJvb2sgVk1CRiIpO3RpbWUuc2xlZXAoMik7ZXhpdCgpDQoNCiMjIy0tLS0tLS0tLS1bIENFSyBMSVNFTlNJIF0tLS0tLS0tLS0tICMjIw0KZGVmIGNlaygpOg0KCXRyeTp4PW9wZW4oImRhdGEvbGlzZW5zaS50eHQiLCJyIikucmVhZCgpDQoJZXhjZXB0IEZpbGVOb3RGb3VuZEVycm9yOmtleSgpDQoJdHJ5OnggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vYXBwLmNyeXB0b2xlbnMuaW8vYXBpL2tleS9BY3RpdmF0ZT90b2tlbj1XeUl6TnpNd09UYzFNU0lzSW5KelZXTkhVa2xQTmpSdVkyWTRPVzV5ZDFsa1RYZEZNV1JHV1dKMlYwczBNR1Z3VTBwWlJHUWlYUT09JlByb2R1Y3RJZD0xODcyOCZLZXk9JXMiJSh4KSkuanNvbigpWydsaWNlbnNlS2V5J11bJ2tleSddO21lbnUoKQ0KCWV4Y2VwdCBLZXlFcnJvcjoNCgkJcHJpbnQoUGFuZWwoZiJ7UDJ9bGlzZW5zaSBrYW11IHN1ZGFoIGtlZGFsdXdhcnNhIHNpbGFoa2FuIGJlbGkgbGlzZW5zaSBrZSBhZG1pbiIsd2lkdGg9ODAscGFkZGluZz0oMCw2KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSk7b3Muc3lzdGVtKCJybSAtcmYgZGF0YS9saXNlbnNpLnR4dCIpO29zLnN5c3RlbSgieGRnLW9wZW4gaHR0cHM6Ly93YS5tZS8rNjI4NTg5NDg0MTY5NT90ZXh0PWFzc2FsYW11YWxhaWt1bStiYW5nK21hdStiZWxpK2xpc2Vuc2krY3JhY2srRmFjZWJvb2sgVk1CRiIpO3RpbWUuc2xlZXAoMik7ZXhpdCgpDQoNCiMjIy0tLS0tLS0tLS1bIE1BU1VLIExJU0VOU0kgXS0tLS0tLS0tLS0gIyMjDQpkZWYga2V5KCk6DQoJb3Muc3lzdGVtKCJjbGVhciIpIA0KCWJhbm5lcigpDQoJcHJpbnQoUGFuZWwoZiJ7UDJ9c2lsYWhrYW4gbWFzdWthbiBsaXNlbnNpIHRvb2xzIGFnYXIgYmlzYSBtYXN1ayBrZSB0b29scyBWTUJGXG5qaWthIGFuZGEgYmVsdW0gbWVtcHVueWFpIGxpc2Vuc2kga2V0aWsge0gyfWJlbGkge1AyfXVudHVrIG1lbGloYXQgaGFyZ2EgbGlzZW5zaSIsd2lkdGg9ODAscGFkZGluZz0oMCwyKSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCglrZXkgPSBjb25zb2xlLmlucHV0KGYiIHtIMn3igKIge1AyfSBtYXN1a2FuIGxpc2Vuc2kgOiAiKQ0KCWlmIGtleSBpbiBbImJlbGkiLCJCZWxpIiwiQkVMSSJdOmJlbGlfYmFuZygpDQoJdHJ5OnNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKTthc3UgPSBzZXMuZ2V0KCJodHRwczovL2FwcC5jcnlwdG9sZW5zLmlvL2FwaS9rZXkvQWN0aXZhdGU/dG9rZW49V3lJek56TXdPVGMxTVNJc0luSnpWV05IVWtsUE5qUnVZMlk0T1c1eWQxbGtUWGRGTVdSR1dXSjJWMHMwTUdWd1UwcFpSR1FpWFE9PSZQcm9kdWN0SWQ9MTg3MjgmS2V5PSVzJlNpZ249VHJ1ZSIlKGtleSkpLmpzb24oKVsnbGljZW5zZUtleSddWydrZXknXTtvcGVuKCJkYXRhL2xpc2Vuc2kudHh0IiwidyIpLndyaXRlKGtleSk7cHJpbnQoUGFuZWwoZiJ7SDJ9c2VsYW1hdCBsaXNlbnNpIHlhbmcgYW5kYSBtYXN1a2FuIHRlcmRhZnRhciBrZSBzZXJ2ZXIgIix3aWR0aD04MCxwYWRkaW5nPSgwLDkpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKTt0aW1lLnNsZWVwKDMpO21lbnUoKQ0KCWV4Y2VwdCBLZXlFcnJvcjoNCgkJcHJpbnQoUGFuZWwoZiJ7UDJ9IGxpc2Vuc2kgeWFuZyBhbmRhIG1hc3VrYW4gdGlkYWsgdGVyZGFmdGFyIHNpbGFoa2FuIGJlbGkgdGVybGViaWggZGFodWx1Iix3aWR0aD04MCxwYWRkaW5nPSgwLDEpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKTtvcy5zeXN0ZW0oInhkZy1vcGVuIGh0dHBzOi8vd2EubWUvKzYyODU4OTQ4NDE2OTU/dGV4dD1hc3NhbGFtdWFsYWlrdW0rYmFuZyttYXUrYmVsaStsaXNlbnNpK2NyYWNrK0ZhY2Vib29rIFZNQkYiKTt0aW1lLnNsZWVwKDIpO2V4aXQoKQ0KDQojIyMtLS0tLS0tLS0tWyBDRUsgTElTRU5TSSBdLS0tLS0tLS0tLSAjIyMJCQkJDQpkZWYgY2VrKCk6DQoJdHJ5Ong9b3BlbigiZGF0YS9saXNlbnNpLnR4dCIsInIiKS5yZWFkKCkNCglleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6a2V5KCkNCgl0cnk6eCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9hcHAuY3J5cHRvbGVucy5pby9hcGkva2V5L0FjdGl2YXRlP3Rva2VuPVd5SXpOek13T1RjMU1TSXNJbkp6VldOSFVrbFBOalJ1WTJZNE9XNXlkMWxrVFhkRk1XUkdXV0oyVjBzME1HVndVMHBaUkdRaVhRPT0mUHJvZHVjdElkPTE4NzI4JktleT0lcyIlKHgpKS5qc29uKClbJ2xpY2Vuc2VLZXknXVsna2V5J107bWVudSgpDQoJZXhjZXB0IEtleUVycm9yOg0KCQlwcmludChQYW5lbChmIntQMn1saXNlbnNpIGthbXUgc3VkYWgga2VkYWx1d2Fyc2Egc2lsYWhrYW4gYmVsaSBsaXNlbnNpIGtlIGFkbWluIix3aWR0aD04MCxwYWRkaW5nPSgwLDYpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKTtvcy5zeXN0ZW0oInJtIC1yZiBkYXRhL2xpc2Vuc2kudHh0Iik7b3Muc3lzdGVtKCJ4ZGctb3BlbiBodHRwczovL3dhLm1lLys2Mjg1ODk0ODQxNjk1P3RleHQ9YXNzYWxhbXVhbGFpa3VtK2JhbmcrbWF1K2JlbGkrbGlzZW5zaStjcmFjaytGYWNlYm9vayBWTUJGIik7dGltZS5zbGVlcCgyKTtleGl0KCkNCg0KIyMjLS0tLS0tLS0tLVsgQlVZIExJU0VOU0kgXS0tLS0tLS0tLS0gIyMjCQ0KZGVmIGJlbGlfYmFuZygpOg0KCSNwcmludCgnJykNCiAgICBwcmludHMoUGFuZWwoZiJ7UDJ9W3tIMn0wMXtQMn1dLiAxIG1pbmdndSB7SDJ9NTAuMDAwIHtQMn1tYXggcGVtYWthaWFuIDEgZGV2aWNlXG57UDJ9W3tIMn0wMntQMn1dLiAxIGJ1bGFuIHtIMn0xMDAuMDAwe1AyfSBtYXggcGVtYWthaWFuIDUgZGV2aWNlXG57UDJ9W3tIMn0wM3tQMn1dLiBvcGVuIHNvdXJjZSBmdWxsIHVwZGF0ZSB7SDJ9MjAwLjAwMCIpKQ0KICAgIHp4YyA9IGNvbnNvbGUuaW5wdXQoZiIge0gyfeKAoiB7UDJ9IHBpbGloIGxpc2Vuc2kgOiAiKQ0KICAgIHByaW50KCcnKQ0KICAgIGlmIHp4YyBpbiBbIiJdOnByaW50KGYiIHtIMn3igKIge1AyfSBwaWxpaCB5YW5nIGJlbmVyIGJyb28gamFuZ2FuIGtvc29uZyIpO3RpbWUuc2xlZXAoMyk7Y2VrX2xpc2Vuc2lfYWt0aWYoKQ0KICAgIGVsaWYgenhjIGluIFsiMSIsIjAxIl06cHJpbnQoZiIge0gyfeKAoiB7UDJ9IGFuZGEgYWthbiBkaSBhcmFoa2FuIGtlIFdoYXRzQXBwIik7b3Muc3lzdGVtKCJ4ZGctb3BlbiBodHRwczovL3dhLm1lLys2Mjg1ODk0ODQxNjk1P3RleHQ9YXNzYWxhbXVhbGFpa3VtK2JhbmcrbWF1K2JlbGkrbGlzZW5zaStmYWNlYm9vaysxK21pbmdndSIpO3RpbWUuc2xlZXAoMik7ZXhpdCgpDQogICAgZWxpZiB6eGMgaW4gWyIyIiwiMDIiXTpwcmludChmIiB7SDJ94oCiIHtQMn0gYW5kYSBha2FuIGRpIGFyYWhrYW4ga2UgV2hhdHNBcHAiKTtvcy5zeXN0ZW0oInhkZy1vcGVuIGh0dHBzOi8vd2EubWUvKzYyODU4OTQ4NDE2OTU/dGV4dD1hc3NhbGFtdWFsYWlrdW0rYmFuZyttYXUrYmVsaStsaXNlbnNpK2ZhY2Vib29rKzErYnVsYW4iKTt0aW1lLnNsZWVwKDIpO2V4aXQoKQ0KICAgIGVsaWYgenhjIGluIFsiMyIsIjAzIl06cHJpbnQoZiIge0gyfeKAoiB7UDJ9IGFuZGEgYWthbiBkaSBhcmFoa2FuIGtlIFdoYXRzQXBwIik7b3Muc3lzdGVtKCJ4ZGctb3BlbiBodHRwczovL3dhLm1lLys2Mjg1ODk0ODQxNjk1P3RleHQ9YXNzYWxhbXVhbGFpa3VtK2JhbmcrbWF1K2JlbGkrbGlzZW5zaStmYWNlYm9vaytmdWxsK3NvdXJjZSIpO3RpbWUuc2xlZXAoMik7ZXhpdCgpDQogICAgZWxzZTpwcmludChmIiB7SDJ94oCiIHtQMn0gbmdldGlrIGFwYWFuIGx1IG5nYWIiKTt0aW1lLnNsZWVwKDMpO2Nla19saXNlbnNpX2FrdGlmKCkNCg0KIyMjLS0tLS0tLS0tLVsgQ0VLIExJU0VOU0kgQUtUSUYgXS0tLS0tLS0tLS0gIyMjDQpkZWYgY2VrX2xpc2Vuc2lfYWt0aWYoKToNCgl0cnk6eHogPSBvcGVuKCJkYXRhL2xpc2Vuc2kudHh0IiwiciIpLnJlYWQoKQ0KCWV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjprZXkoKQ0KCW9zLnN5c3RlbSgiY2xlYXIiKTtjZWsoKQ0KDQojIyMtLS0tLS0tLS0tWyBBVVRPIENSRUFURSBGT0xERVIgXS0tLS0tLS0tLS0gIyMjDQpkZWYgQXV0b0ZvbGRlcigpOg0KICAgIHRyeTpvcy5ta2RpcigiT0siKQ0KICAgIGV4Y2VwdDpwYXNzDQogICAgdHJ5Om9zLm1rZGlyKCJDUCIpDQogICAgZXhjZXB0OnBhc3MNCiAgICB0cnk6b3MubWtkaXIoImRhdGEiKQ0KICAgIGV4Y2VwdDpwYXNzDQogICAgdHJ5Om9zLm1rZGlyKCJhc3NldHMiKQ0KICAgIGV4Y2VwdDpwYXNzDQoNCiMjIy0tLS0tLS0tLS1bIFBFTUFOR0dJTCBdLS0tLS0tLS0tLSAjIyMNCmlmIF9fbmFtZV9fPT0nX19tYWluX18nOg0KICB0cnk6DQogICAgICB3aXRoIHJlcXVlc3RzLlNlc3Npb24oKSBhcyBzZXM6DQogICAgICAgICAgIG9zLnN5c3RlbSgiZ2l0IHB1bGwiKQ0KICAgICAgICAgICBBdXRvRm9sZGVyKCk7Y2VrX2xpc2Vuc2lfYWt0aWYoKQ0KICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgICBwcmludChmIiB7SDJ94oCiIHtQMn0ga29uZWtzaSBpbnRlcm5ldCBhbmRhIGJlcm1hc2FsYWgiKQ0KICAgICAgdGltZS5zbGVlcCgzKTtleGl0KCkNCg=="))